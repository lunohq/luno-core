!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("aws-sdk"),function(){try{return require("crypto")}catch(e){}}()):"function"==typeof define&&define.amd?define(["aws-sdk","crypto"],t):"object"==typeof exports?exports.luno=t(require("aws-sdk"),function(){try{return require("crypto")}catch(e){}}()):e.luno=t(e["aws-sdk"],e.crypto)}(this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.db=void 0;var o=n(1),u=r(o);t.db=u},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.answer=t.bot=t.user=t.team=t.client=void 0;var o=n(2),u=r(o),a=n(4),i=r(a),f=n(5),s=r(f),c=n(8),d=r(c),l=n(9),m=r(l);t.client=u,t.team=i,t.user=s,t.bot=d,t.answer=m},function(e,t,n){"use strict";function r(e){var t=process,n=t.env.STAGE;return n+"-"+e}function o(e,t){var n=new e;return Object.assign(n,t)}function u(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return t.join("_")}Object.defineProperty(t,"__esModule",{value:!0}),t.resolveTableName=r,t.fromDB=o,t.compositeId=u,t["default"]=function(){var e=n(3),t=e.DynamoDB.DocumentClient;return new t}()},function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){return new Promise(function(t,n){var r={TableName:s,Item:e};f["default"].put(r,function(r,o){return r?n(r):t(e)})})}function a(e){return new Promise(function(t,n){var r={TableName:s,Key:{id:e}};f["default"].get(r,function(e,r){if(e)return n(e);var o=(0,i.fromDB)(c,r.Item);return t(o)})})}Object.defineProperty(t,"__esModule",{value:!0}),t.Team=void 0,t.createTeam=u,t.getTeam=a;var i=n(2),f=r(i),s=(0,i.resolveTableName)("team"),c=t.Team=function d(){o(this,d)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){return new Promise(function(t,n){e.id=s["default"].v4();var r={TableName:l,Item:e};d["default"].put(r,function(r,o){return r?n(r):t(e)})})}function a(e,t){return new Promise(function(n,r){var o={TableName:l,Key:{id:t,teamId:e}};d["default"].get(o,function(e,t){if(e)return r(e);var o=(0,c.fromDB)(m,t.Item);return n(o)})})}function i(e){return new Promise(function(t,n){var r={TableName:l,KeyConditionExpression:"teamId = :teamId",ExpressionAttributeValues:{":teamId":e}};d["default"].query(r,function(e,r){return e?n(e):t(r.Items.map(function(e){return(0,c.fromDB)(m,e)}))})})}Object.defineProperty(t,"__esModule",{value:!0}),t.User=void 0,t.createUser=u,t.getUser=a,t.getUsers=i;var f=n(6),s=r(f),c=n(2),d=r(c),l=(0,c.resolveTableName)("user"),m=t.User=function v(){o(this,v)}},function(e,t,n){var r;!function(o){"use strict";function u(){var e=o.crypto||o.msCrypto;if(!d&&e&&e.getRandomValues)try{var t=new Uint8Array(16);v=d=function(){return e.getRandomValues(t),t},d()}catch(n){}if(!d){var r=new Array(16);l=d=function(){for(var e,t=0;16>t;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}function a(){try{var e=n(7).randomBytes;m=d=e&&function(){return e(16)},d()}catch(t){}}function i(e,t,n){var r=t&&n||0,o=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){16>o&&(t[r+o++]=b[e])});16>o;)t[r+o++]=0;return t}function f(e,t){var n=t||0,r=y;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}function s(e,t,n){var r=t&&n||0,o=t||[];e=e||{};var u=null!=e.clockseq?e.clockseq:T,a=null!=e.msecs?e.msecs:(new Date).getTime(),i=null!=e.nsecs?e.nsecs:g+1,s=a-B+(i-g)/1e4;if(0>s&&null==e.clockseq&&(u=u+1&16383),(0>s||a>B)&&null==e.nsecs&&(i=0),i>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");B=a,g=i,T=u,a+=122192928e5;var c=(1e4*(268435455&a)+i)%4294967296;o[r++]=c>>>24&255,o[r++]=c>>>16&255,o[r++]=c>>>8&255,o[r++]=255&c;var d=a/4294967296*1e4&268435455;o[r++]=d>>>8&255,o[r++]=255&d,o[r++]=d>>>24&15|16,o[r++]=d>>>16&255,o[r++]=u>>>8|128,o[r++]=255&u;for(var l=e.node||_,m=0;6>m;m++)o[r+m]=l[m];return t?t:f(o)}function c(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new p(16):null,e=null),e=e||{};var o=e.random||(e.rng||d)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var u=0;16>u;u++)t[r+u]=o[u];return t||f(o)}var d,l,m,v;o?u():a();for(var p="function"==typeof Buffer?Buffer:Array,y=[],b={},w=0;256>w;w++)y[w]=(w+256).toString(16).substr(1),b[y[w]]=w;var I=d(),_=[1|I[0],I[1],I[2],I[3],I[4],I[5]],T=16383&(I[6]<<8|I[7]),B=0,g=0,x=c;x.v1=s,x.v4=c,x.parse=i,x.unparse=f,x.BufferClass=p,x._rng=d,x._mathRNG=l,x._nodeRNG=m,x._whatwgRNG=v,"undefined"!=typeof e&&e.exports?e.exports=x:(r=function(){return x}.call(t,n,t,e),!(void 0!==r&&(e.exports=r)))}("undefined"!=typeof window?window:null)},function(e,t){e.exports=require("crypto")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){return new Promise(function(t,n){e.id=uuid.v4();var r={TableName:l,Item:e};d["default"].put(r,function(r,o){return r?n(r):t(e)})})}function a(e,t){return new Promise(function(n,r){var o={TableName:l,Key:{teamId:e,id:t}};d["default"].get(o,function(e,t){if(e)return r(e);var o=(0,c.fromDB)(m,t.Item);return n(o)})})}function i(e){return new Promise(function(t,n){var r={TableName:l,KeyConditionExpression:"teamId = :teamId",ExpressionAttributeValues:{":teamId":e}};d["default"].query(r,function(e,r){return e?n(e):t(r.Items.map(function(e){return(0,c.fromDB)(m,e)}))})})}Object.defineProperty(t,"__esModule",{value:!0}),t.Bot=t.uuid=void 0,t.createBot=u,t.getBot=a,t.getBots=i;var f=n(6),s=r(f),c=n(2),d=r(c);t.uuid=s["default"];var l=(0,c.resolveTableName)("bot"),m=t.Bot=function v(){o(this,v)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){var t=e.teamId,n=e.botId,r=o(e,["teamId","botId"]),u=new y;Object.assign(u,r),u.id=l["default"].v4(),u.teamIdBotId=(0,m.compositeId)(t,n);var a={TableName:p,Item:u};return new Promise(function(e,t){v["default"].put(a,function(n,r){return n?t(n):e(u)})})}function i(e,t){var n={TableName:p,Key:{id:t,teamIdBotId:e}};return new Promise(function(e,t){v["default"].get(n,function(n,r){if(n)return t(n);var o=(0,m.fromDB)(y,r.Item);return e(o)})})}function f(e,t){var n={TableName:p,KeyConditionExpression:"teamIdBotId = :teamIdBotId",ExpressionAttributeValues:{":teamIdBotId":(0,m.compositeId)(e,t)}};return new Promise(function(e,t){v["default"].query(n,function(n,r){return n?t(n):e(r.Items.map(function(e){return(0,m.fromDB)(y,e)}))})})}function s(e,t){var n={TableName:p,Key:{id:t,teamIdBotId:e}};return new Promise(function(e,t){v["default"]["delete"](n,function(n,r){return n?t(n):e()})})}function c(e){var t=e.teamIdBotId,n=e.id,r=e.title,o=e.body,u={TableName:p,Key:{id:n,teamIdBotId:t},UpdateExpression:"SET #t = :t, #b = :b",ExpressionAttributeNames:{"#t":"title","#b":"body"},ExpressionAttributeValues:{":t":r,":b":o},ReturnValues:"ALL_NEW"};return new Promise(function(e,t){v["default"].update(u,function(n,r){return n?t(n):e((0,m.fromDB)(y,r.Attributes))})})}Object.defineProperty(t,"__esModule",{value:!0}),t.Answer=void 0,t.createAnswer=a,t.getAnswer=i,t.getAnswers=f,t.deleteAnswer=s,t.updateAnswer=c;var d=n(6),l=r(d),m=n(2),v=r(m),p=(0,m.resolveTableName)("answer"),y=t.Answer=function b(){u(this,b)}}])});
//# sourceMappingURL=index.min.js.map
