!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n(require("aws-sdk"),function(){try{return require("crypto")}catch(e){}}()):"function"==typeof define&&define.amd?define(["aws-sdk","crypto"],n):"object"==typeof exports?exports.luno=n(require("aws-sdk"),function(){try{return require("crypto")}catch(e){}}()):e.luno=n(e["aws-sdk"],e.crypto)}(this,function(e,n){return function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){"use strict";function r(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n["default"]=e,n}Object.defineProperty(n,"__esModule",{value:!0}),n.db=void 0;var o=t(1),u=r(o);n.db=u},function(e,n,t){"use strict";function r(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n["default"]=e,n}Object.defineProperty(n,"__esModule",{value:!0}),n.answer=n.bot=n.user=n.team=n.client=void 0;var o=t(2),u=r(o),a=t(4),i=r(a),f=t(5),c=r(f),s=t(8),l=r(s),d=t(9),m=r(d);n.client=u,n.team=i,n.user=c,n.bot=l,n.answer=m},function(e,n,t){"use strict";function r(e){var n=process,t=n.env.STAGE;return t+"-"+e}function o(e,n){var t=new e;return Object.assign(t,n)}Object.defineProperty(n,"__esModule",{value:!0}),n.resolveTableName=r,n.fromDB=o,n["default"]=function(){var e=t(3),n=e.DynamoDB.DocumentClient;return new n}()},function(n,t){n.exports=e},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function u(e){return new Promise(function(n,t){var r={TableName:c,Item:e};f["default"].put(r,function(r,o){return r?t(r):n(e)})})}function a(e){return new Promise(function(n,t){var r={TableName:c,Key:{id:e}};f["default"].get(r,function(e,r){if(e)return t(e);var o=(0,i.fromDB)(s,r.Item);return n(o)})})}Object.defineProperty(n,"__esModule",{value:!0}),n.Team=void 0,n.createTeam=u,n.getTeam=a;var i=t(2),f=r(i),c=(0,i.resolveTableName)("team"),s=n.Team=function l(){o(this,l)}},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function u(e){return new Promise(function(n,t){e.id=c["default"].v4();var r={TableName:d,Item:e};l["default"].put(r,function(r,o){return r?t(r):n(e)})})}function a(e,n){return new Promise(function(t,r){var o={TableName:d,Key:{id:n,teamId:e}};l["default"].get(o,function(e,n){if(e)return r(e);var o=(0,s.fromDB)(m,n.Item);return t(o)})})}function i(e){return new Promise(function(n,t){var r={TableName:d,KeyConditionExpression:"teamId = :teamId",ExpressionAttributeValues:{":teamId":e}};l["default"].query(r,function(e,r){return e?t(e):n(r.Items.map(function(e){return(0,s.fromDB)(m,e)}))})})}Object.defineProperty(n,"__esModule",{value:!0}),n.User=void 0,n.createUser=u,n.getUser=a,n.getUsers=i;var f=t(6),c=r(f),s=t(2),l=r(s),d=(0,s.resolveTableName)("user"),m=n.User=function v(){o(this,v)}},function(e,n,t){var r;!function(o){"use strict";function u(){var e=o.crypto||o.msCrypto;if(!l&&e&&e.getRandomValues)try{var n=new Uint8Array(16);v=l=function(){return e.getRandomValues(n),n},l()}catch(t){}if(!l){var r=new Array(16);d=l=function(){for(var e,n=0;16>n;n++)0===(3&n)&&(e=4294967296*Math.random()),r[n]=e>>>((3&n)<<3)&255;return r},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}function a(){try{var e=t(7).randomBytes;m=l=e&&function(){return e(16)},l()}catch(n){}}function i(e,n,t){var r=n&&t||0,o=0;for(n=n||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){16>o&&(n[r+o++]=w[e])});16>o;)n[r+o++]=0;return n}function f(e,n){var t=n||0,r=y;return r[e[t++]]+r[e[t++]]+r[e[t++]]+r[e[t++]]+"-"+r[e[t++]]+r[e[t++]]+"-"+r[e[t++]]+r[e[t++]]+"-"+r[e[t++]]+r[e[t++]]+"-"+r[e[t++]]+r[e[t++]]+r[e[t++]]+r[e[t++]]+r[e[t++]]+r[e[t++]]}function c(e,n,t){var r=n&&t||0,o=n||[];e=e||{};var u=null!=e.clockseq?e.clockseq:T,a=null!=e.msecs?e.msecs:(new Date).getTime(),i=null!=e.nsecs?e.nsecs:B+1,c=a-g+(i-B)/1e4;if(0>c&&null==e.clockseq&&(u=u+1&16383),(0>c||a>g)&&null==e.nsecs&&(i=0),i>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");g=a,B=i,T=u,a+=122192928e5;var s=(1e4*(268435455&a)+i)%4294967296;o[r++]=s>>>24&255,o[r++]=s>>>16&255,o[r++]=s>>>8&255,o[r++]=255&s;var l=a/4294967296*1e4&268435455;o[r++]=l>>>8&255,o[r++]=255&l,o[r++]=l>>>24&15|16,o[r++]=l>>>16&255,o[r++]=u>>>8|128,o[r++]=255&u;for(var d=e.node||I,m=0;6>m;m++)o[r+m]=d[m];return n?n:f(o)}function s(e,n,t){var r=n&&t||0;"string"==typeof e&&(n="binary"===e?new p(16):null,e=null),e=e||{};var o=e.random||(e.rng||l)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,n)for(var u=0;16>u;u++)n[r+u]=o[u];return n||f(o)}var l,d,m,v;o?u():a();for(var p="function"==typeof Buffer?Buffer:Array,y=[],w={},b=0;256>b;b++)y[b]=(b+256).toString(16).substr(1),w[y[b]]=b;var _=l(),I=[1|_[0],_[1],_[2],_[3],_[4],_[5]],T=16383&(_[6]<<8|_[7]),g=0,B=0,h=s;h.v1=c,h.v4=s,h.parse=i,h.unparse=f,h.BufferClass=p,h._rng=l,h._mathRNG=d,h._nodeRNG=m,h._whatwgRNG=v,"undefined"!=typeof e&&e.exports?e.exports=h:(r=function(){return h}.call(n,t,n,e),!(void 0!==r&&(e.exports=r)))}("undefined"!=typeof window?window:null)},function(e,n){e.exports=require("crypto")},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function u(e){return new Promise(function(n,t){e.id=uuid.v4();var r={TableName:d,Item:e};l["default"].put(r,function(r,o){return r?t(r):n(e)})})}function a(e,n){return new Promise(function(t,r){var o={TableName:d,Key:{teamId:e,id:n}};l["default"].get(o,function(e,n){if(e)return r(e);var o=(0,s.fromDB)(m,n.Item);return t(o)})})}function i(e){return new Promise(function(n,t){var r={TableName:d,KeyConditionExpression:"teamId = :teamId",ExpressionAttributeValues:{":teamId":e}};l["default"].query(r,function(e,r){return e?t(e):n(r.Items.map(function(e){return(0,s.fromDB)(m,e)}))})})}Object.defineProperty(n,"__esModule",{value:!0}),n.Bot=n.uuid=void 0,n.createBot=u,n.getBot=a,n.getBots=i;var f=t(6),c=r(f),s=t(2),l=r(s);n.uuid=c["default"];var d=(0,s.resolveTableName)("bot"),m=n.Bot=function v(){o(this,v)}},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function u(e){return new Promise(function(n,t){e.id=c["default"].v4();var r={TableName:d,Item:user};l["default"].put(r,function(n,r){return n?t(n):resovle(e)})})}function a(e,n){return new Promise(function(t,r){var o={TableName:d,Key:{id:n,teamIdBotId:e}};l["default"].get(o,function(e,n){if(e)return r(e);var o=(0,s.fromDB)(m,n.Item);return t(o)})})}function i(e,n){return new Promise(function(t,r){var o={TableName:d,KeyConditionExpression:"teamIdBotId = :teamIdBotId",ExpressionAttributeValues:{":teamIdBotId":e+":"+n}};l["default"].query(o,function(e,n){return e?r(e):t(n.Items.map(function(e){return(0,s.fromDB)(m,e)}))})})}Object.defineProperty(n,"__esModule",{value:!0}),n.Answer=void 0,n.createAnswer=u,n.getAnswer=a,n.getAnswers=i;var f=t(6),c=r(f),s=t(2),l=r(s),d=(0,s.resolveTableName)("answer"),m=n.Answer=function v(){o(this,v)}}])});
//# sourceMappingURL=index.min.js.map
