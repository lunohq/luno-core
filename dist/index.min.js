!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("aws-sdk"),function(){try{return require("crypto")}catch(e){}}()):"function"==typeof define&&define.amd?define(["aws-sdk","crypto"],t):"object"==typeof exports?exports.luno=t(require("aws-sdk"),function(){try{return require("crypto")}catch(e){}}()):e.luno=t(e["aws-sdk"],e.crypto)}(this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.db=void 0;var o=n(1),u=r(o);t.db=u},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.answer=t.bot=t.user=t.team=t.client=void 0;var o=n(2),u=r(o),i=n(4),a=r(i),c=n(5),f=r(c),s=n(8),l=r(s),p=n(9),d=r(p);t.client=u,t.team=a,t.user=f,t.bot=l,t.answer=d},function(e,t,n){"use strict";function r(e){var t=process,n=t.env.STAGE;return n+"-"+e}function o(e,t){var n=new e;return Object.assign({},n,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.resolveTableName=r,t.fromDB=o;var u={sessionToken:process.env.AWS_SESSION_TOKEN,region:process.env.AWS_REGION};t["default"]=function(){var e=n(3),t=e.DynamoDB.DocumentClient;return new t(u)}()},function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return new Promise(function(t,n){var r={TableName:l,Item:e};s["default"].put(r,function(r,o){return r?n(r):t(e)})})}function c(e){return new Promise(function(t,n){var r={TableName:l,Key:{id:e}};s["default"].get(r,function(e,r){if(e)return n(e);var o=(0,f.fromDB)(p,r.Item);return t(o)})})}Object.defineProperty(t,"__esModule",{value:!0}),t.Team=void 0,t.createTeam=a,t.getTeam=c;var f=n(2),s=r(f),l=(0,f.resolveTableName)("team"),p=t.Team=function(e){function t(){return o(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),t}(Object)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return new Promise(function(t,n){e.id=l["default"].v4();var r={TableName:y,Item:e};d["default"].put(r,function(r,o){return r?n(r):t(e)})})}function c(e,t){return new Promise(function(n,r){var o={TableName:y,Key:{id:t,teamId:e}};d["default"].get(o,function(e,t){if(e)return r(e);var o=(0,p.fromDB)(b,t.Item);return n(o)})})}function f(e){return new Promise(function(t,n){var r={TableName:y,KeyConditionExpression:"HashKey = :hkey",ExpressionAttributeValues:{":hkey":e}};d["default"].query(r,function(e,t){return e?n(e):t.Items.map(function(e){return(0,p.fromDB)(b,e)})})})}Object.defineProperty(t,"__esModule",{value:!0}),t.User=void 0,t.createUser=a,t.getUser=c,t.getUsers=f;var s=n(6),l=r(s),p=n(2),d=r(p),y=(0,p.resolveTableName)("user"),b=t.User=function(e){function t(){return o(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),t}(Object)},function(e,t,n){var r;!function(o){"use strict";function u(){var e=o.crypto||o.msCrypto;if(!l&&e&&e.getRandomValues)try{var t=new Uint8Array(16);y=l=function(){return e.getRandomValues(t),t},l()}catch(n){}if(!l){var r=new Array(16);p=l=function(){for(var e,t=0;16>t;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}function i(){try{var e=n(7).randomBytes;d=l=e&&function(){return e(16)},l()}catch(t){}}function a(e,t,n){var r=t&&n||0,o=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){16>o&&(t[r+o++]=m[e])});16>o;)t[r+o++]=0;return t}function c(e,t){var n=t||0,r=v;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}function f(e,t,n){var r=t&&n||0,o=t||[];e=e||{};var u=null!=e.clockseq?e.clockseq:O,i=null!=e.msecs?e.msecs:(new Date).getTime(),a=null!=e.nsecs?e.nsecs:P+1,f=i-j+(a-P)/1e4;if(0>f&&null==e.clockseq&&(u=u+1&16383),(0>f||i>j)&&null==e.nsecs&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");j=i,P=a,O=u,i+=122192928e5;var s=(1e4*(268435455&i)+a)%4294967296;o[r++]=s>>>24&255,o[r++]=s>>>16&255,o[r++]=s>>>8&255,o[r++]=255&s;var l=i/4294967296*1e4&268435455;o[r++]=l>>>8&255,o[r++]=255&l,o[r++]=l>>>24&15|16,o[r++]=l>>>16&255,o[r++]=u>>>8|128,o[r++]=255&u;for(var p=e.node||_,d=0;6>d;d++)o[r+d]=p[d];return t?t:c(o)}function s(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new b(16):null,e=null),e=e||{};var o=e.random||(e.rng||l)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var u=0;16>u;u++)t[r+u]=o[u];return t||c(o)}var l,p,d,y;o?u():i();for(var b="function"==typeof Buffer?Buffer:Array,v=[],m={},w=0;256>w;w++)v[w]=(w+256).toString(16).substr(1),m[v[w]]=w;var h=l(),_=[1|h[0],h[1],h[2],h[3],h[4],h[5]],O=16383&(h[6]<<8|h[7]),j=0,P=0,T=s;T.v1=f,T.v4=s,T.parse=a,T.unparse=c,T.BufferClass=b,T._rng=l,T._mathRNG=p,T._nodeRNG=d,T._whatwgRNG=y,"undefined"!=typeof e&&e.exports?e.exports=T:(r=function(){return T}.call(t,n,t,e),!(void 0!==r&&(e.exports=r)))}("undefined"!=typeof window?window:null)},function(e,t){e.exports=require("crypto")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return new Promise(function(t,n){e.id=uuid.v4();var r={TableName:table,Item:e};d["default"].put(r,function(r,o){return r?n(r):t(e)})})}function c(e,t){return new Promise(function(n,r){var o={TableName:table,Key:{teamId:e,id:t}};d["default"].get(o,function(e,t){if(e)return r(e);var o=(0,p.fromDB)(y,t.Item);return n(o)})})}function f(e){return new Promise(function(t,n){var r={TableName:table,KeyConditionExpression:"HashKey = :hkey",ExpressionAttributeValues:{":hkey":e}};d["default"].query(r,function(e,t){return e?n(e):t.Items.map(function(e){return(0,p.fromDB)(y,e)})})})}Object.defineProperty(t,"__esModule",{value:!0}),t.Bot=t.uuid=void 0,t.createBot=a,t.getBot=c,t.getBots=f;var s=n(6),l=r(s),p=n(2),d=r(p);t.uuid=l["default"];var y=t.Bot=function(e){function t(){return o(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),t}(Object)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){return e+"="+t}function c(e){return new Promise(function(t,n){e.id=p["default"].v4();var r={TableName:b,Item:user};y["default"].put(r,function(t,r){return t?n(t):resovle(e)})})}function f(e,t,n){var r=a(e,t);return new Promise(function(e,t){var o={TableName:b,Key:{id:n,compositeId:r}};y["default"].get(o,function(n,r){if(n)return t(n);var o=(0,d.fromDB)(v,r.Item);return e(o)})})}function s(e,t){var n=a(e,t);return new Promise(function(e,t){var r={TableName:b,KeyConditionExpression:"HashKey = :hkey",ExpressionAttributeValues:{":hkey":n}};y["default"].query(r,function(e,n){return e?t(e):n.Items.map(function(e){return(0,d.fromDB)(v,e)})})})}Object.defineProperty(t,"__esModule",{value:!0}),t.Answer=void 0,t.createAnswer=c,t.getAnswer=f,t.getAnswers=s;var l=n(6),p=r(l),d=n(2),y=r(d),b=(0,d.resolveTableName)("answer"),v=t.Answer=function(e){function t(){return o(this,t),u(this,Object.getPrototypeOf(t).apply(this,arguments))}return i(t,e),t}(Object)}])});
//# sourceMappingURL=index.min.js.map
