!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("aws-sdk"),function(){try{return require("crypto")}catch(e){}}()):"function"==typeof define&&define.amd?define(["aws-sdk","crypto"],t):"object"==typeof exports?exports.luno=t(require("aws-sdk"),function(){try{return require("crypto")}catch(e){}}()):e.luno=t(e["aws-sdk"],e.crypto)}(this,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.db=void 0;var o=n(1),u=r(o);t.db=u},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.answer=t.bot=t.user=t.team=t.client=void 0;var o=n(2),u=r(o),a=n(4),i=r(a),f=n(5),c=r(f),s=n(8),l=r(s),d=n(9),m=r(d);t.client=u,t.team=i,t.user=c,t.bot=l,t.answer=m},function(e,t,n){"use strict";function r(e){var t=process,n=t.env.STAGE;return n+"-"+e}function o(e,t){var n=new e;return Object.assign(n,t)}function u(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return t.join("_")}Object.defineProperty(t,"__esModule",{value:!0}),t.resolveTableName=r,t.fromDB=o,t.compositeId=u,t["default"]=function(){var e=n(3),t=e.DynamoDB.DocumentClient;return new t}()},function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){return new Promise(function(t,n){var r={TableName:c,Item:e};f["default"].put(r,function(r,o){return r?n(r):t(e)})})}function a(e){return new Promise(function(t,n){var r={TableName:c,Key:{id:e}};f["default"].get(r,function(e,r){if(e)return n(e);var o=(0,i.fromDB)(s,r.Item);return t(o)})})}Object.defineProperty(t,"__esModule",{value:!0}),t.Team=void 0,t.createTeam=u,t.getTeam=a;var i=n(2),f=r(i),c=(0,i.resolveTableName)("team"),s=t.Team=function l(){o(this,l)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){return new Promise(function(t,n){e.id=c["default"].v4();var r={TableName:d,Item:e};l["default"].put(r,function(r,o){return r?n(r):t(e)})})}function a(e,t){return new Promise(function(n,r){var o={TableName:d,Key:{id:t,teamId:e}};l["default"].get(o,function(e,t){if(e)return r(e);var o=(0,s.fromDB)(m,t.Item);return n(o)})})}function i(e){return new Promise(function(t,n){var r={TableName:d,KeyConditionExpression:"teamId = :teamId",ExpressionAttributeValues:{":teamId":e}};l["default"].query(r,function(e,r){return e?n(e):t(r.Items.map(function(e){return(0,s.fromDB)(m,e)}))})})}Object.defineProperty(t,"__esModule",{value:!0}),t.User=void 0,t.createUser=u,t.getUser=a,t.getUsers=i;var f=n(6),c=r(f),s=n(2),l=r(s),d=(0,s.resolveTableName)("user"),m=t.User=function v(){o(this,v)}},function(e,t,n){var r;!function(o){"use strict";function u(){var e=o.crypto||o.msCrypto;if(!l&&e&&e.getRandomValues)try{var t=new Uint8Array(16);v=l=function(){return e.getRandomValues(t),t},l()}catch(n){}if(!l){var r=new Array(16);d=l=function(){for(var e,t=0;16>t;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}function a(){try{var e=n(7).randomBytes;m=l=e&&function(){return e(16)},l()}catch(t){}}function i(e,t,n){var r=t&&n||0,o=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){16>o&&(t[r+o++]=w[e])});16>o;)t[r+o++]=0;return t}function f(e,t){var n=t||0,r=y;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}function c(e,t,n){var r=t&&n||0,o=t||[];e=e||{};var u=null!=e.clockseq?e.clockseq:T,a=null!=e.msecs?e.msecs:(new Date).getTime(),i=null!=e.nsecs?e.nsecs:h+1,c=a-g+(i-h)/1e4;if(0>c&&null==e.clockseq&&(u=u+1&16383),(0>c||a>g)&&null==e.nsecs&&(i=0),i>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");g=a,h=i,T=u,a+=122192928e5;var s=(1e4*(268435455&a)+i)%4294967296;o[r++]=s>>>24&255,o[r++]=s>>>16&255,o[r++]=s>>>8&255,o[r++]=255&s;var l=a/4294967296*1e4&268435455;o[r++]=l>>>8&255,o[r++]=255&l,o[r++]=l>>>24&15|16,o[r++]=l>>>16&255,o[r++]=u>>>8|128,o[r++]=255&u;for(var d=e.node||_,m=0;6>m;m++)o[r+m]=d[m];return t?t:f(o)}function s(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"===e?new p(16):null,e=null),e=e||{};var o=e.random||(e.rng||l)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var u=0;16>u;u++)t[r+u]=o[u];return t||f(o)}var l,d,m,v;o?u():a();for(var p="function"==typeof Buffer?Buffer:Array,y=[],w={},b=0;256>b;b++)y[b]=(b+256).toString(16).substr(1),w[y[b]]=b;var I=l(),_=[1|I[0],I[1],I[2],I[3],I[4],I[5]],T=16383&(I[6]<<8|I[7]),g=0,h=0,B=s;B.v1=c,B.v4=s,B.parse=i,B.unparse=f,B.BufferClass=p,B._rng=l,B._mathRNG=d,B._nodeRNG=m,B._whatwgRNG=v,"undefined"!=typeof e&&e.exports?e.exports=B:(r=function(){return B}.call(t,n,t,e),!(void 0!==r&&(e.exports=r)))}("undefined"!=typeof window?window:null)},function(e,t){e.exports=require("crypto")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e){return new Promise(function(t,n){e.id=uuid.v4();var r={TableName:d,Item:e};l["default"].put(r,function(r,o){return r?n(r):t(e)})})}function a(e,t){return new Promise(function(n,r){var o={TableName:d,Key:{teamId:e,id:t}};l["default"].get(o,function(e,t){if(e)return r(e);var o=(0,s.fromDB)(m,t.Item);return n(o)})})}function i(e){return new Promise(function(t,n){var r={TableName:d,KeyConditionExpression:"teamId = :teamId",ExpressionAttributeValues:{":teamId":e}};l["default"].query(r,function(e,r){return e?n(e):t(r.Items.map(function(e){return(0,s.fromDB)(m,e)}))})})}Object.defineProperty(t,"__esModule",{value:!0}),t.Bot=t.uuid=void 0,t.createBot=u,t.getBot=a,t.getBots=i;var f=n(6),c=r(f),s=n(2),l=r(s);t.uuid=c["default"];var d=(0,s.resolveTableName)("bot"),m=t.Bot=function v(){o(this,v)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){var t=e.teamId,n=e.botId,r=o(e,["teamId","botId"]),u=new v;Object.assign(u,r),u.id=s["default"].v4(),u.teamIdBotId=(0,l.compositeId)(t,n);var a={TableName:m,Item:u};return new Promise(function(e,t){d["default"].put(a,function(n,r){return n?t(n):e(u)})})}function i(e,t){return new Promise(function(n,r){var o={TableName:m,Key:{id:t,teamIdBotId:e}};d["default"].get(o,function(e,t){if(e)return r(e);var o=(0,l.fromDB)(v,t.Item);return n(o)})})}function f(e,t){return new Promise(function(n,r){var o={TableName:m,KeyConditionExpression:"teamIdBotId = :teamIdBotId",ExpressionAttributeValues:{":teamIdBotId":(0,l.compositeId)(e,t)}};d["default"].query(o,function(e,t){return e?r(e):n(t.Items.map(function(e){return(0,l.fromDB)(v,e)}))})})}Object.defineProperty(t,"__esModule",{value:!0}),t.Answer=void 0,t.createAnswer=a,t.getAnswer=i,t.getAnswers=f;var c=n(6),s=r(c),l=n(2),d=r(l),m=(0,l.resolveTableName)("answer"),v=t.Answer=function p(){u(this,p)}}])});
//# sourceMappingURL=index.min.js.map
