{"version":3,"sources":["index.min.js"],"names":["root","factory","exports","module","require","e","define","amd","this","__WEBPACK_EXTERNAL_MODULE_3__","__WEBPACK_EXTERNAL_MODULE_7__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireWildcard","obj","__esModule","newObj","key","Object","prototype","hasOwnProperty","defineProperty","value","db","undefined","_db2","_db","answer","bot","user","team","client","_client2","_client","_team2","_team","_user2","_user","_bot2","_bot","_answer2","_answer","resolveTableName","model","_process","process","STAGE","env","fromDB","Model","data","assign","config","sessionToken","AWS_SESSION_TOKEN","region","AWS_REGION","AWS","DocumentClient","DynamoDB","_interopRequireDefault","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","createTeam","Promise","resolve","reject","params","TableName","table","Item","put","err","getTeam","Key","get","Team","_Object","getPrototypeOf","apply","arguments","createUser","_nodeUuid2","v4","getUser","teamId","User","getUsers","KeyConditionExpression","ExpressionAttributeValues",":hkey","query","Items","map","item","_nodeUuid","__WEBPACK_AMD_DEFINE_RESULT__","_window","setupBrowser","_crypto","crypto","msCrypto","_rng","getRandomValues","_rnds8","Uint8Array","_whatwgRNG","_rnds","Array","_mathRNG","r","i","Math","random","console","warn","setupNode","_rb","randomBytes","_nodeRNG","parse","s","buf","offset","ii","toLowerCase","replace","oct","_hexToByte","unparse","bth","_byteToHex","v1","options","b","clockseq","_clockseq","msecs","Date","getTime","nsecs","_lastNSecs","dt","_lastMSecs","Error","tl","tmh","node","_nodeId","n","BufferClass","rnds","rng","Buffer","toString","substr","_seedBytes","uuid","window","createBot","getBot","Bot","getBots","getCompositeId","botId","createAnswer","resovle","getAnswer","compositeId","Answer","getAnswers"],"mappings":"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","file":"index.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"aws-sdk\"), (function webpackLoadOptionalExternalModule() { try { return require(\"crypto\"); } catch(e) {} }()));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"aws-sdk\", \"crypto\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"luno\"] = factory(require(\"aws-sdk\"), (function webpackLoadOptionalExternalModule() { try { return require(\"crypto\"); } catch(e) {} }()));\n\telse\n\t\troot[\"luno\"] = factory(root[\"aws-sdk\"], root[\"crypto\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_7__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.db = undefined;\n\t\n\tvar _db2 = __webpack_require__(1);\n\t\n\tvar _db = _interopRequireWildcard(_db2);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\texports.db = _db;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.answer = exports.bot = exports.user = exports.team = exports.client = undefined;\n\t\n\tvar _client2 = __webpack_require__(2);\n\t\n\tvar _client = _interopRequireWildcard(_client2);\n\t\n\tvar _team2 = __webpack_require__(4);\n\t\n\tvar _team = _interopRequireWildcard(_team2);\n\t\n\tvar _user2 = __webpack_require__(5);\n\t\n\tvar _user = _interopRequireWildcard(_user2);\n\t\n\tvar _bot2 = __webpack_require__(8);\n\t\n\tvar _bot = _interopRequireWildcard(_bot2);\n\t\n\tvar _answer2 = __webpack_require__(9);\n\t\n\tvar _answer = _interopRequireWildcard(_answer2);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\texports.client = _client;\n\texports.team = _team;\n\texports.user = _user;\n\texports.bot = _bot;\n\texports.answer = _answer;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.resolveTableName = resolveTableName;\n\texports.fromDB = fromDB;\n\tvar config = {\n\t  sessionToken: process.env.AWS_SESSION_TOKEN,\n\t  region: process.env.AWS_REGION\n\t};\n\t\n\t/**\n\t * Return a table name for the model based on env variables.\n\t *\n\t * @param {String} model model name\n\t * @return {String} resolved table name\n\t */\n\tfunction resolveTableName(model) {\n\t  var _process = process;\n\t  var STAGE = _process.env.STAGE;\n\t\n\t  return STAGE + '-' + model;\n\t}\n\t\n\t/**\n\t * Return a model type with the values from the db.\n\t *\n\t * @param {Type} Model type of model\n\t * @param {Object} data data to copy to the model\n\t * @return {Object} returns the inflated model\n\t */\n\tfunction fromDB(Model, data) {\n\t  var model = new Model();\n\t  return Object.assign({}, model, data);\n\t}\n\t\n\texports.default = function () {\n\t  var AWS = __webpack_require__(3);\n\t  var DocumentClient = AWS.DynamoDB.DocumentClient;\n\t  return new DocumentClient(config);\n\t}();\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Team = undefined;\n\texports.createTeam = createTeam;\n\texports.getTeam = getTeam;\n\t\n\tvar _client = __webpack_require__(2);\n\t\n\tvar _client2 = _interopRequireDefault(_client);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar table = (0, _client.resolveTableName)('team');\n\t\n\tvar Team = exports.Team = function (_Object) {\n\t  _inherits(Team, _Object);\n\t\n\t  function Team() {\n\t    _classCallCheck(this, Team);\n\t\n\t    return _possibleConstructorReturn(this, Object.getPrototypeOf(Team).apply(this, arguments));\n\t  }\n\t\n\t  return Team;\n\t}(Object);\n\t\n\t;\n\t\n\tfunction createTeam(team) {\n\t  return new Promise(function (resolve, reject) {\n\t    var params = {\n\t      TableName: table,\n\t      Item: team\n\t    };\n\t\n\t    _client2.default.put(params, function (err, data) {\n\t      if (err) return reject(err);\n\t      return resolve(team);\n\t    });\n\t  });\n\t}\n\t\n\tfunction getTeam(id) {\n\t  return new Promise(function (resolve, reject) {\n\t    var params = {\n\t      TableName: table,\n\t      Key: { id: id }\n\t    };\n\t\n\t    _client2.default.get(params, function (err, data) {\n\t      if (err) return reject(err);\n\t      var team = (0, _client.fromDB)(Team, data.Item);\n\t      return resolve(team);\n\t    });\n\t  });\n\t}\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.User = undefined;\n\texports.createUser = createUser;\n\texports.getUser = getUser;\n\texports.getUsers = getUsers;\n\t\n\tvar _nodeUuid = __webpack_require__(6);\n\t\n\tvar _nodeUuid2 = _interopRequireDefault(_nodeUuid);\n\t\n\tvar _client = __webpack_require__(2);\n\t\n\tvar _client2 = _interopRequireDefault(_client);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar table = (0, _client.resolveTableName)('user');\n\t\n\tvar User = exports.User = function (_Object) {\n\t  _inherits(User, _Object);\n\t\n\t  function User() {\n\t    _classCallCheck(this, User);\n\t\n\t    return _possibleConstructorReturn(this, Object.getPrototypeOf(User).apply(this, arguments));\n\t  }\n\t\n\t  return User;\n\t}(Object);\n\t\n\t;\n\t\n\tfunction createUser(user) {\n\t  return new Promise(function (resolve, reject) {\n\t    user.id = _nodeUuid2.default.v4();\n\t    var params = {\n\t      TableName: table,\n\t      Item: user\n\t    };\n\t\n\t    _client2.default.put(params, function (err, data) {\n\t      if (err) return reject(err);\n\t      return resolve(user);\n\t    });\n\t  });\n\t}\n\t\n\tfunction getUser(teamId, id) {\n\t  return new Promise(function (resolve, reject) {\n\t    var params = {\n\t      TableName: table,\n\t      Key: { id: id, teamId: teamId }\n\t    };\n\t\n\t    _client2.default.get(params, function (err, data) {\n\t      if (err) return reject(err);\n\t      var user = (0, _client.fromDB)(User, data.Item);\n\t      return resolve(user);\n\t    });\n\t  });\n\t}\n\t\n\tfunction getUsers(teamId) {\n\t  return new Promise(function (resolve, reject) {\n\t    var params = {\n\t      TableName: table,\n\t      KeyConditionExpression: 'HashKey = :hkey',\n\t      ExpressionAttributeValues: {\n\t        ':hkey': teamId\n\t      }\n\t    };\n\t\n\t    _client2.default.query(params, function (err, data) {\n\t      if (err) return reject(err);\n\t      return data.Items.map(function (item) {\n\t        return (0, _client.fromDB)(User, item);\n\t      });\n\t    });\n\t  });\n\t}\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;//     uuid.js\n\t//\n\t//     Copyright (c) 2010-2012 Robert Kieffer\n\t//     MIT License - http://opensource.org/licenses/mit-license.php\n\t\n\t/*global window, require, define */\n\t(function(_window) {\n\t  'use strict';\n\t\n\t  // Unique ID creation requires a high quality random # generator.  We feature\n\t  // detect to determine the best RNG source, normalizing to a function that\n\t  // returns 128-bits of randomness, since that's what's usually required\n\t  var _rng, _mathRNG, _nodeRNG, _whatwgRNG, _previousRoot;\n\t\n\t  function setupBrowser() {\n\t    // Allow for MSIE11 msCrypto\n\t    var _crypto = _window.crypto || _window.msCrypto;\n\t\n\t    if (!_rng && _crypto && _crypto.getRandomValues) {\n\t      // WHATWG crypto-based RNG - http://wiki.whatwg.org/wiki/Crypto\n\t      //\n\t      // Moderately fast, high quality\n\t      try {\n\t        var _rnds8 = new Uint8Array(16);\n\t        _whatwgRNG = _rng = function whatwgRNG() {\n\t          _crypto.getRandomValues(_rnds8);\n\t          return _rnds8;\n\t        };\n\t        _rng();\n\t      } catch(e) {}\n\t    }\n\t\n\t    if (!_rng) {\n\t      // Math.random()-based (RNG)\n\t      //\n\t      // If all else fails, use Math.random().  It's fast, but is of unspecified\n\t      // quality.\n\t      var  _rnds = new Array(16);\n\t      _mathRNG = _rng = function() {\n\t        for (var i = 0, r; i < 16; i++) {\n\t          if ((i & 0x03) === 0) { r = Math.random() * 0x100000000; }\n\t          _rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n\t        }\n\t\n\t        return _rnds;\n\t      };\n\t      if ('undefined' !== typeof console && console.warn) {\n\t        console.warn(\"[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()\");\n\t      }\n\t    }\n\t  }\n\t\n\t  function setupNode() {\n\t    // Node.js crypto-based RNG - http://nodejs.org/docs/v0.6.2/api/crypto.html\n\t    //\n\t    // Moderately fast, high quality\n\t    if (true) {\n\t      try {\n\t        var _rb = __webpack_require__(7).randomBytes;\n\t        _nodeRNG = _rng = _rb && function() {return _rb(16);};\n\t        _rng();\n\t      } catch(e) {}\n\t    }\n\t  }\n\t\n\t  if (_window) {\n\t    setupBrowser();\n\t  } else {\n\t    setupNode();\n\t  }\n\t\n\t  // Buffer class to use\n\t  var BufferClass = ('function' === typeof Buffer) ? Buffer : Array;\n\t\n\t  // Maps for number <-> hex string conversion\n\t  var _byteToHex = [];\n\t  var _hexToByte = {};\n\t  for (var i = 0; i < 256; i++) {\n\t    _byteToHex[i] = (i + 0x100).toString(16).substr(1);\n\t    _hexToByte[_byteToHex[i]] = i;\n\t  }\n\t\n\t  // **`parse()` - Parse a UUID into it's component bytes**\n\t  function parse(s, buf, offset) {\n\t    var i = (buf && offset) || 0, ii = 0;\n\t\n\t    buf = buf || [];\n\t    s.toLowerCase().replace(/[0-9a-f]{2}/g, function(oct) {\n\t      if (ii < 16) { // Don't overflow!\n\t        buf[i + ii++] = _hexToByte[oct];\n\t      }\n\t    });\n\t\n\t    // Zero out remaining bytes if string was short\n\t    while (ii < 16) {\n\t      buf[i + ii++] = 0;\n\t    }\n\t\n\t    return buf;\n\t  }\n\t\n\t  // **`unparse()` - Convert UUID byte array (ala parse()) into a string**\n\t  function unparse(buf, offset) {\n\t    var i = offset || 0, bth = _byteToHex;\n\t    return  bth[buf[i++]] + bth[buf[i++]] +\n\t            bth[buf[i++]] + bth[buf[i++]] + '-' +\n\t            bth[buf[i++]] + bth[buf[i++]] + '-' +\n\t            bth[buf[i++]] + bth[buf[i++]] + '-' +\n\t            bth[buf[i++]] + bth[buf[i++]] + '-' +\n\t            bth[buf[i++]] + bth[buf[i++]] +\n\t            bth[buf[i++]] + bth[buf[i++]] +\n\t            bth[buf[i++]] + bth[buf[i++]];\n\t  }\n\t\n\t  // **`v1()` - Generate time-based UUID**\n\t  //\n\t  // Inspired by https://github.com/LiosK/UUID.js\n\t  // and http://docs.python.org/library/uuid.html\n\t\n\t  // random #'s we need to init node and clockseq\n\t  var _seedBytes = _rng();\n\t\n\t  // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n\t  var _nodeId = [\n\t    _seedBytes[0] | 0x01,\n\t    _seedBytes[1], _seedBytes[2], _seedBytes[3], _seedBytes[4], _seedBytes[5]\n\t  ];\n\t\n\t  // Per 4.2.2, randomize (14 bit) clockseq\n\t  var _clockseq = (_seedBytes[6] << 8 | _seedBytes[7]) & 0x3fff;\n\t\n\t  // Previous uuid creation time\n\t  var _lastMSecs = 0, _lastNSecs = 0;\n\t\n\t  // See https://github.com/broofa/node-uuid for API details\n\t  function v1(options, buf, offset) {\n\t    var i = buf && offset || 0;\n\t    var b = buf || [];\n\t\n\t    options = options || {};\n\t\n\t    var clockseq = (options.clockseq != null) ? options.clockseq : _clockseq;\n\t\n\t    // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n\t    // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n\t    // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n\t    // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\t    var msecs = (options.msecs != null) ? options.msecs : new Date().getTime();\n\t\n\t    // Per 4.2.1.2, use count of uuid's generated during the current clock\n\t    // cycle to simulate higher resolution clock\n\t    var nsecs = (options.nsecs != null) ? options.nsecs : _lastNSecs + 1;\n\t\n\t    // Time since last uuid creation (in msecs)\n\t    var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\t\n\t    // Per 4.2.1.2, Bump clockseq on clock regression\n\t    if (dt < 0 && options.clockseq == null) {\n\t      clockseq = clockseq + 1 & 0x3fff;\n\t    }\n\t\n\t    // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n\t    // time interval\n\t    if ((dt < 0 || msecs > _lastMSecs) && options.nsecs == null) {\n\t      nsecs = 0;\n\t    }\n\t\n\t    // Per 4.2.1.2 Throw error if too many uuids are requested\n\t    if (nsecs >= 10000) {\n\t      throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n\t    }\n\t\n\t    _lastMSecs = msecs;\n\t    _lastNSecs = nsecs;\n\t    _clockseq = clockseq;\n\t\n\t    // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\t    msecs += 12219292800000;\n\t\n\t    // `time_low`\n\t    var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n\t    b[i++] = tl >>> 24 & 0xff;\n\t    b[i++] = tl >>> 16 & 0xff;\n\t    b[i++] = tl >>> 8 & 0xff;\n\t    b[i++] = tl & 0xff;\n\t\n\t    // `time_mid`\n\t    var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n\t    b[i++] = tmh >>> 8 & 0xff;\n\t    b[i++] = tmh & 0xff;\n\t\n\t    // `time_high_and_version`\n\t    b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\t    b[i++] = tmh >>> 16 & 0xff;\n\t\n\t    // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\t    b[i++] = clockseq >>> 8 | 0x80;\n\t\n\t    // `clock_seq_low`\n\t    b[i++] = clockseq & 0xff;\n\t\n\t    // `node`\n\t    var node = options.node || _nodeId;\n\t    for (var n = 0; n < 6; n++) {\n\t      b[i + n] = node[n];\n\t    }\n\t\n\t    return buf ? buf : unparse(b);\n\t  }\n\t\n\t  // **`v4()` - Generate random UUID**\n\t\n\t  // See https://github.com/broofa/node-uuid for API details\n\t  function v4(options, buf, offset) {\n\t    // Deprecated - 'format' argument, as supported in v1.2\n\t    var i = buf && offset || 0;\n\t\n\t    if (typeof(options) === 'string') {\n\t      buf = (options === 'binary') ? new BufferClass(16) : null;\n\t      options = null;\n\t    }\n\t    options = options || {};\n\t\n\t    var rnds = options.random || (options.rng || _rng)();\n\t\n\t    // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\t    rnds[6] = (rnds[6] & 0x0f) | 0x40;\n\t    rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\t\n\t    // Copy bytes to buffer, if provided\n\t    if (buf) {\n\t      for (var ii = 0; ii < 16; ii++) {\n\t        buf[i + ii] = rnds[ii];\n\t      }\n\t    }\n\t\n\t    return buf || unparse(rnds);\n\t  }\n\t\n\t  // Export public API\n\t  var uuid = v4;\n\t  uuid.v1 = v1;\n\t  uuid.v4 = v4;\n\t  uuid.parse = parse;\n\t  uuid.unparse = unparse;\n\t  uuid.BufferClass = BufferClass;\n\t  uuid._rng = _rng;\n\t  uuid._mathRNG = _mathRNG;\n\t  uuid._nodeRNG = _nodeRNG;\n\t  uuid._whatwgRNG = _whatwgRNG;\n\t\n\t  if (('undefined' !== typeof module) && module.exports) {\n\t    // Publish as node.js module\n\t    module.exports = uuid;\n\t  } else if (true) {\n\t    // Publish as AMD module\n\t    !(__WEBPACK_AMD_DEFINE_RESULT__ = function() {return uuid;}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\n\t\n\t  } else {\n\t    // Publish as global (in browsers)\n\t    _previousRoot = _window.uuid;\n\t\n\t    // **`noConflict()` - (browser only) to reset global 'uuid' var**\n\t    uuid.noConflict = function() {\n\t      _window.uuid = _previousRoot;\n\t      return uuid;\n\t    };\n\t\n\t    _window.uuid = uuid;\n\t  }\n\t})('undefined' !== typeof window ? window : null);\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"crypto\");\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Bot = exports.uuid = undefined;\n\texports.createBot = createBot;\n\texports.getBot = getBot;\n\texports.getBots = getBots;\n\t\n\tvar _nodeUuid = __webpack_require__(6);\n\t\n\tvar _nodeUuid2 = _interopRequireDefault(_nodeUuid);\n\t\n\tvar _client = __webpack_require__(2);\n\t\n\tvar _client2 = _interopRequireDefault(_client);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\texports.uuid = _nodeUuid2.default;\n\t\n\tvar Bot = exports.Bot = function (_Object) {\n\t  _inherits(Bot, _Object);\n\t\n\t  function Bot() {\n\t    _classCallCheck(this, Bot);\n\t\n\t    return _possibleConstructorReturn(this, Object.getPrototypeOf(Bot).apply(this, arguments));\n\t  }\n\t\n\t  return Bot;\n\t}(Object);\n\t\n\t;\n\t\n\tfunction createBot(bot) {\n\t  return new Promise(function (resolve, reject) {\n\t    bot.id = uuid.v4();\n\t    var params = {\n\t      TableName: table,\n\t      Item: bot\n\t    };\n\t\n\t    _client2.default.put(params, function (err, data) {\n\t      if (err) return reject(err);\n\t      return resolve(bot);\n\t    });\n\t  });\n\t}\n\t\n\tfunction getBot(teamId, id) {\n\t  return new Promise(function (resolve, reject) {\n\t    var params = {\n\t      TableName: table,\n\t      Key: { teamId: teamId, id: id }\n\t    };\n\t\n\t    _client2.default.get(params, function (err, data) {\n\t      if (err) return reject(err);\n\t      var bot = (0, _client.fromDB)(Bot, data.Item);\n\t      return resolve(bot);\n\t    });\n\t  });\n\t}\n\t\n\tfunction getBots(teamId) {\n\t  return new Promise(function (resolve, reject) {\n\t    var params = {\n\t      TableName: table,\n\t      KeyConditionExpression: 'HashKey = :hkey',\n\t      ExpressionAttributeValues: {\n\t        ':hkey': teamId\n\t      }\n\t    };\n\t\n\t    _client2.default.query(params, function (err, data) {\n\t      if (err) return reject(err);\n\t      return data.Items.map(function (item) {\n\t        return (0, _client.fromDB)(Bot, item);\n\t      });\n\t    });\n\t  });\n\t}\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Answer = undefined;\n\texports.createAnswer = createAnswer;\n\texports.getAnswer = getAnswer;\n\texports.getAnswers = getAnswers;\n\t\n\tvar _nodeUuid = __webpack_require__(6);\n\t\n\tvar _nodeUuid2 = _interopRequireDefault(_nodeUuid);\n\t\n\tvar _client = __webpack_require__(2);\n\t\n\tvar _client2 = _interopRequireDefault(_client);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar table = (0, _client.resolveTableName)('answer');\n\t\n\tvar Answer = exports.Answer = function (_Object) {\n\t  _inherits(Answer, _Object);\n\t\n\t  function Answer() {\n\t    _classCallCheck(this, Answer);\n\t\n\t    return _possibleConstructorReturn(this, Object.getPrototypeOf(Answer).apply(this, arguments));\n\t  }\n\t\n\t  return Answer;\n\t}(Object);\n\t\n\t;\n\t\n\tfunction getCompositeId(teamId, botId) {\n\t  return teamId + '=' + botId;\n\t}\n\t\n\tfunction createAnswer(answer) {\n\t  return new Promise(function (resolve, reject) {\n\t    answer.id = _nodeUuid2.default.v4();\n\t    var params = {\n\t      TableName: table,\n\t      Item: user\n\t    };\n\t\n\t    _client2.default.put(params, function (err, data) {\n\t      if (err) return reject(err);\n\t      return resovle(answer);\n\t    });\n\t  });\n\t}\n\t\n\tfunction getAnswer(teamId, botId, id) {\n\t  var compositeId = getCompositeId(teamId, botId);\n\t  return new Promise(function (resolve, reject) {\n\t    var params = {\n\t      TableName: table,\n\t      Key: { id: id, compositeId: compositeId }\n\t    };\n\t\n\t    _client2.default.get(params, function (err, data) {\n\t      if (err) return reject(err);\n\t      var answer = (0, _client.fromDB)(Answer, data.Item);\n\t      return resolve(answer);\n\t    });\n\t  });\n\t}\n\t\n\tfunction getAnswers(teamId, botId) {\n\t  var compositeId = getCompositeId(teamId, botId);\n\t  return new Promise(function (resolve, reject) {\n\t    var params = {\n\t      TableName: table,\n\t      KeyConditionExpression: 'HashKey = :hkey',\n\t      ExpressionAttributeValues: {\n\t        ':hkey': compositeId\n\t      }\n\t    };\n\t\n\t    _client2.default.query(params, function (err, data) {\n\t      if (err) return reject(err);\n\t      return data.Items.map(function (item) {\n\t        return (0, _client.fromDB)(Answer, item);\n\t      });\n\t    });\n\t  });\n\t}\n\n/***/ }\n/******/ ])\n});\n;\n//# sourceMappingURL=index.js.map"],"sourceRoot":"/source/"}