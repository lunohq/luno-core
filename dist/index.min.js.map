{"version":3,"sources":["index.min.js"],"names":["root","factory","exports","module","require","e","define","amd","this","__WEBPACK_EXTERNAL_MODULE_3__","__WEBPACK_EXTERNAL_MODULE_7__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireWildcard","obj","__esModule","newObj","key","Object","prototype","hasOwnProperty","defineProperty","value","botkit","db","undefined","_db2","_db","_botkit2","_botkit","token","answer","bot","user","team","client","_client2","_client","_team2","_team","_user2","_user","_bot2","_bot","_answer2","_answer","_token2","_token","resolveTableName","model","_process","process","STAGE","env","fromDB","Model","data","assign","compositeId","_len","arguments","length","parts","Array","_key","join","deconstructId","split","AWS","DocumentClient","DynamoDB","_interopRequireDefault","default","_classCallCheck","instance","Constructor","TypeError","getTeam","params","TableName","table","Key","Promise","resolve","reject","get","err","Item","Team","updateTeam","userId","user_id","now","Date","toISOString","UpdateExpression","ExpressionAttributeNames","#createdBy","#name","#slack","#created","#changed","ExpressionAttributeValues",":createdBy","createdBy",":name","name",":slack","url",":created",":changed","ReturnValues","update","Attributes","getTeams","query","Items","map","item","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","getUser","User","updateUser","#accessToken","#scopes","#teamId","#user",":accessToken","accessToken",":scopes","scopes",":teamId","teamId",":user","AnonymousUser","_nodeUuid","anonymous","_User","_Object$getPrototypeO","_temp","_this","_ret","args","getPrototypeOf","apply","concat","__WEBPACK_AMD_DEFINE_RESULT__","_window","setupBrowser","_crypto","crypto","msCrypto","_rng","getRandomValues","_rnds8","Uint8Array","_whatwgRNG","_rnds","_mathRNG","r","i","Math","random","console","warn","setupNode","_rb","randomBytes","_nodeRNG","parse","s","buf","offset","ii","toLowerCase","replace","oct","_hexToByte","unparse","bth","_byteToHex","v1","options","b","clockseq","_clockseq","msecs","getTime","nsecs","_lastNSecs","dt","_lastMSecs","Error","tl","tmh","node","_nodeId","n","v4","BufferClass","rnds","rng","Buffer","toString","substr","_seedBytes","uuid","window","createBot","Bot","_nodeUuid2","created","changed","put","getBot","getBots","KeyConditionExpression","_objectWithoutProperties","keys","target","indexOf","createAnswer","_ref","botId","Answer","getAnswer","getAnswers",":botId","deleteAnswer","updateAnswer","_ref2","title","body","#title","#body",":title",":body","getToken","Token","createToken","active","deleteToken","_storage","_asyncToGenerator","fn","gen","step","arg","info","error","done","then","teams","ref","regeneratorRuntime","mark","_callee","cb","wrap","_context","prev","next","sent","t0","abrupt","stop","_x","_x2","save","_callee2","isnew","_context2","t1","_x3","_x4","all","_callee3","_context3","_x5","users","_callee4","_context4","_x6","_x7","_callee5","_context5","access_token","team_id","_x8","_x9","channels","_"],"mappings":"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","file":"index.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"aws-sdk\"), (function webpackLoadOptionalExternalModule() { try { return require(\"crypto\"); } catch(e) {} }()));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"aws-sdk\", \"crypto\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"luno\"] = factory(require(\"aws-sdk\"), (function webpackLoadOptionalExternalModule() { try { return require(\"crypto\"); } catch(e) {} }()));\n\telse\n\t\troot[\"luno\"] = factory(root[\"aws-sdk\"], root[\"crypto\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_7__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.botkit = exports.db = undefined;\n\t\n\tvar _db2 = __webpack_require__(1);\n\t\n\tvar _db = _interopRequireWildcard(_db2);\n\t\n\tvar _botkit2 = __webpack_require__(11);\n\t\n\tvar _botkit = _interopRequireWildcard(_botkit2);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\texports.db = _db;\n\texports.botkit = _botkit;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.token = exports.answer = exports.bot = exports.user = exports.team = exports.client = undefined;\n\t\n\tvar _client2 = __webpack_require__(2);\n\t\n\tvar _client = _interopRequireWildcard(_client2);\n\t\n\tvar _team2 = __webpack_require__(4);\n\t\n\tvar _team = _interopRequireWildcard(_team2);\n\t\n\tvar _user2 = __webpack_require__(5);\n\t\n\tvar _user = _interopRequireWildcard(_user2);\n\t\n\tvar _bot2 = __webpack_require__(8);\n\t\n\tvar _bot = _interopRequireWildcard(_bot2);\n\t\n\tvar _answer2 = __webpack_require__(9);\n\t\n\tvar _answer = _interopRequireWildcard(_answer2);\n\t\n\tvar _token2 = __webpack_require__(10);\n\t\n\tvar _token = _interopRequireWildcard(_token2);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\texports.client = _client;\n\texports.team = _team;\n\texports.user = _user;\n\texports.bot = _bot;\n\texports.answer = _answer;\n\texports.token = _token;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.resolveTableName = resolveTableName;\n\texports.fromDB = fromDB;\n\texports.compositeId = compositeId;\n\texports.deconstructId = deconstructId;\n\t/**\n\t * Return a table name for the model based on env variables.\n\t *\n\t * @param {String} model model name\n\t * @return {String} resolved table name\n\t */\n\tfunction resolveTableName(model) {\n\t  var _process = process;\n\t  var STAGE = _process.env.STAGE;\n\t\n\t  return STAGE + '-' + model;\n\t}\n\t\n\t/**\n\t * Return a model type with the values from the db.\n\t *\n\t * @param {Type} Model type of model\n\t * @param {Object} data data to copy to the model\n\t * @return {Object} returns the inflated model\n\t */\n\tfunction fromDB(Model, data) {\n\t  var model = new Model();\n\t  return Object.assign(model, data);\n\t}\n\t\n\t/**\n\t * Helper for returning a composite key in our standard format.\n\t *\n\t * @param {Array[String]} parts composite id parts\n\t * @return {String} returns the composite id\n\t */\n\tfunction compositeId() {\n\t  for (var _len = arguments.length, parts = Array(_len), _key = 0; _key < _len; _key++) {\n\t    parts[_key] = arguments[_key];\n\t  }\n\t\n\t  return parts.join('_');\n\t}\n\t\n\t/**\n\t * Helper for deconstructing a composite key in our standard foramt.\n\t *\n\t * @param {String} id composite id\n\t * @return {Array[String]} composite id parts\n\t */\n\tfunction deconstructId(id) {\n\t  return id.split('_');\n\t}\n\t\n\texports.default = function () {\n\t  var AWS = __webpack_require__(3);\n\t  var DocumentClient = AWS.DynamoDB.DocumentClient;\n\t  return new DocumentClient();\n\t}();\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Team = undefined;\n\texports.getTeam = getTeam;\n\texports.updateTeam = updateTeam;\n\texports.getTeams = getTeams;\n\t\n\tvar _client = __webpack_require__(2);\n\t\n\tvar _client2 = _interopRequireDefault(_client);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar table = (0, _client.resolveTableName)('team-v1');\n\t\n\tvar Team = exports.Team = function Team() {\n\t  _classCallCheck(this, Team);\n\t};\n\t\n\t;\n\t\n\tfunction getTeam(id) {\n\t  var params = {\n\t    TableName: table,\n\t    Key: { id: id }\n\t  };\n\t\n\t  return new Promise(function (resolve, reject) {\n\t    _client2.default.get(params, function (err, data) {\n\t      if (err) return reject(err);\n\t\n\t      var team = void 0;\n\t      if (data.Item) {\n\t        team = (0, _client.fromDB)(Team, data.Item);\n\t      }\n\t\n\t      return resolve(team);\n\t    });\n\t  });\n\t}\n\t\n\tfunction updateTeam(team) {\n\t\n\t  // normalize to camel case\n\t  team.bot.userId = team.bot.user_id;\n\t  delete team.bot.user_id;\n\t\n\t  var now = new Date().toISOString();\n\t  var params = {\n\t    TableName: table,\n\t    Key: { id: team.id },\n\t    UpdateExpression: '\\n      SET\\n        #createdBy = if_not_exists(createdBy, :createdBy),\\n        #name = :name,\\n        #slack = :slack,\\n        #created = if_not_exists(#created, :created),\\n        #changed = :changed\\n    ',\n\t    ExpressionAttributeNames: {\n\t      '#createdBy': 'createdBy',\n\t      '#name': 'name',\n\t      '#slack': 'slack',\n\t      '#created': 'created',\n\t      '#changed': 'changed'\n\t    },\n\t    ExpressionAttributeValues: {\n\t      ':createdBy': team.createdBy,\n\t      ':name': team.name,\n\t      ':slack': {\n\t        bot: team.bot,\n\t        url: team.url,\n\t        token: team.token\n\t      },\n\t      ':created': now,\n\t      ':changed': now\n\t    },\n\t    ReturnValues: 'ALL_NEW'\n\t  };\n\t\n\t  return new Promise(function (resolve, reject) {\n\t    _client2.default.update(params, function (err, data) {\n\t      if (err) return reject(err);\n\t      var team = (0, _client.fromDB)(Team, data.Attributes);\n\t      return resolve(team);\n\t    });\n\t  });\n\t}\n\t\n\tfunction getTeams() {\n\t  var params = {\n\t    TableName: table\n\t  };\n\t  return new Promise(function (resolve, reject) {\n\t    _client2.default.query(params, function (err, data) {\n\t      if (err) return reject(err);\n\t      return resolve(data.Items.map(function (item) {\n\t        return (0, _client.fromDB)(Team, item);\n\t      }));\n\t    });\n\t  });\n\t}\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.AnonymousUser = exports.User = undefined;\n\texports.getUser = getUser;\n\texports.updateUser = updateUser;\n\t\n\tvar _nodeUuid = __webpack_require__(6);\n\t\n\tvar _nodeUuid2 = _interopRequireDefault(_nodeUuid);\n\t\n\tvar _client = __webpack_require__(2);\n\t\n\tvar _client2 = _interopRequireDefault(_client);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar table = (0, _client.resolveTableName)('user-v1');\n\t\n\tvar User = exports.User = function User() {\n\t  _classCallCheck(this, User);\n\t\n\t  this.anonymous = false;\n\t};\n\t\n\t;\n\t\n\tvar AnonymousUser = exports.AnonymousUser = function (_User) {\n\t  _inherits(AnonymousUser, _User);\n\t\n\t  function AnonymousUser() {\n\t    var _Object$getPrototypeO;\n\t\n\t    var _temp, _this, _ret;\n\t\n\t    _classCallCheck(this, AnonymousUser);\n\t\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\t\n\t    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_Object$getPrototypeO = Object.getPrototypeOf(AnonymousUser)).call.apply(_Object$getPrototypeO, [this].concat(args))), _this), _this.anonymous = true, _temp), _possibleConstructorReturn(_this, _ret);\n\t  }\n\t\n\t  return AnonymousUser;\n\t}(User);\n\t\n\t;\n\t\n\tfunction getUser(id) {\n\t  return new Promise(function (resolve, reject) {\n\t    var params = {\n\t      TableName: table,\n\t      Key: { id: id }\n\t    };\n\t\n\t    _client2.default.get(params, function (err, data) {\n\t      if (err) return reject(err);\n\t\n\t      var user = void 0;\n\t      if (data.Item) {\n\t        user = (0, _client.fromDB)(User, data.Item);\n\t      }\n\t\n\t      return resolve(user);\n\t    });\n\t  });\n\t}\n\t\n\tfunction updateUser(user) {\n\t  var now = new Date().toISOString();\n\t  var params = {\n\t    TableName: table,\n\t    Key: { id: user.id },\n\t    UpdateExpression: '\\n      SET\\n        #accessToken = :accessToken,\\n        #scopes = :scopes,\\n        #teamId = :teamId,\\n        #user = :user,\\n        #created = if_not_exists(#created, :created),\\n        #changed = :changed\\n    ',\n\t    ExpressionAttributeNames: {\n\t      '#accessToken': 'accessToken',\n\t      '#scopes': 'scopes',\n\t      '#teamId': 'teamId',\n\t      '#user': 'user',\n\t      '#created': 'created',\n\t      '#changed': 'changed'\n\t    },\n\t    ExpressionAttributeValues: {\n\t      ':accessToken': user.accessToken,\n\t      ':scopes': user.scopes,\n\t      ':teamId': user.teamId,\n\t      ':user': user.user,\n\t      ':created': now,\n\t      ':changed': now\n\t    },\n\t    ReturnValues: 'ALL_NEW'\n\t  };\n\t\n\t  return new Promise(function (resolve, reject) {\n\t    _client2.default.update(params, function (err, data) {\n\t      if (err) return reject(err);\n\t      user = (0, _client.fromDB)(User, data.Attributes);\n\t      return resolve(user);\n\t    });\n\t  });\n\t}\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;//     uuid.js\n\t//\n\t//     Copyright (c) 2010-2012 Robert Kieffer\n\t//     MIT License - http://opensource.org/licenses/mit-license.php\n\t\n\t/*global window, require, define */\n\t(function(_window) {\n\t  'use strict';\n\t\n\t  // Unique ID creation requires a high quality random # generator.  We feature\n\t  // detect to determine the best RNG source, normalizing to a function that\n\t  // returns 128-bits of randomness, since that's what's usually required\n\t  var _rng, _mathRNG, _nodeRNG, _whatwgRNG, _previousRoot;\n\t\n\t  function setupBrowser() {\n\t    // Allow for MSIE11 msCrypto\n\t    var _crypto = _window.crypto || _window.msCrypto;\n\t\n\t    if (!_rng && _crypto && _crypto.getRandomValues) {\n\t      // WHATWG crypto-based RNG - http://wiki.whatwg.org/wiki/Crypto\n\t      //\n\t      // Moderately fast, high quality\n\t      try {\n\t        var _rnds8 = new Uint8Array(16);\n\t        _whatwgRNG = _rng = function whatwgRNG() {\n\t          _crypto.getRandomValues(_rnds8);\n\t          return _rnds8;\n\t        };\n\t        _rng();\n\t      } catch(e) {}\n\t    }\n\t\n\t    if (!_rng) {\n\t      // Math.random()-based (RNG)\n\t      //\n\t      // If all else fails, use Math.random().  It's fast, but is of unspecified\n\t      // quality.\n\t      var  _rnds = new Array(16);\n\t      _mathRNG = _rng = function() {\n\t        for (var i = 0, r; i < 16; i++) {\n\t          if ((i & 0x03) === 0) { r = Math.random() * 0x100000000; }\n\t          _rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n\t        }\n\t\n\t        return _rnds;\n\t      };\n\t      if ('undefined' !== typeof console && console.warn) {\n\t        console.warn(\"[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()\");\n\t      }\n\t    }\n\t  }\n\t\n\t  function setupNode() {\n\t    // Node.js crypto-based RNG - http://nodejs.org/docs/v0.6.2/api/crypto.html\n\t    //\n\t    // Moderately fast, high quality\n\t    if (true) {\n\t      try {\n\t        var _rb = __webpack_require__(7).randomBytes;\n\t        _nodeRNG = _rng = _rb && function() {return _rb(16);};\n\t        _rng();\n\t      } catch(e) {}\n\t    }\n\t  }\n\t\n\t  if (_window) {\n\t    setupBrowser();\n\t  } else {\n\t    setupNode();\n\t  }\n\t\n\t  // Buffer class to use\n\t  var BufferClass = ('function' === typeof Buffer) ? Buffer : Array;\n\t\n\t  // Maps for number <-> hex string conversion\n\t  var _byteToHex = [];\n\t  var _hexToByte = {};\n\t  for (var i = 0; i < 256; i++) {\n\t    _byteToHex[i] = (i + 0x100).toString(16).substr(1);\n\t    _hexToByte[_byteToHex[i]] = i;\n\t  }\n\t\n\t  // **`parse()` - Parse a UUID into it's component bytes**\n\t  function parse(s, buf, offset) {\n\t    var i = (buf && offset) || 0, ii = 0;\n\t\n\t    buf = buf || [];\n\t    s.toLowerCase().replace(/[0-9a-f]{2}/g, function(oct) {\n\t      if (ii < 16) { // Don't overflow!\n\t        buf[i + ii++] = _hexToByte[oct];\n\t      }\n\t    });\n\t\n\t    // Zero out remaining bytes if string was short\n\t    while (ii < 16) {\n\t      buf[i + ii++] = 0;\n\t    }\n\t\n\t    return buf;\n\t  }\n\t\n\t  // **`unparse()` - Convert UUID byte array (ala parse()) into a string**\n\t  function unparse(buf, offset) {\n\t    var i = offset || 0, bth = _byteToHex;\n\t    return  bth[buf[i++]] + bth[buf[i++]] +\n\t            bth[buf[i++]] + bth[buf[i++]] + '-' +\n\t            bth[buf[i++]] + bth[buf[i++]] + '-' +\n\t            bth[buf[i++]] + bth[buf[i++]] + '-' +\n\t            bth[buf[i++]] + bth[buf[i++]] + '-' +\n\t            bth[buf[i++]] + bth[buf[i++]] +\n\t            bth[buf[i++]] + bth[buf[i++]] +\n\t            bth[buf[i++]] + bth[buf[i++]];\n\t  }\n\t\n\t  // **`v1()` - Generate time-based UUID**\n\t  //\n\t  // Inspired by https://github.com/LiosK/UUID.js\n\t  // and http://docs.python.org/library/uuid.html\n\t\n\t  // random #'s we need to init node and clockseq\n\t  var _seedBytes = _rng();\n\t\n\t  // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n\t  var _nodeId = [\n\t    _seedBytes[0] | 0x01,\n\t    _seedBytes[1], _seedBytes[2], _seedBytes[3], _seedBytes[4], _seedBytes[5]\n\t  ];\n\t\n\t  // Per 4.2.2, randomize (14 bit) clockseq\n\t  var _clockseq = (_seedBytes[6] << 8 | _seedBytes[7]) & 0x3fff;\n\t\n\t  // Previous uuid creation time\n\t  var _lastMSecs = 0, _lastNSecs = 0;\n\t\n\t  // See https://github.com/broofa/node-uuid for API details\n\t  function v1(options, buf, offset) {\n\t    var i = buf && offset || 0;\n\t    var b = buf || [];\n\t\n\t    options = options || {};\n\t\n\t    var clockseq = (options.clockseq != null) ? options.clockseq : _clockseq;\n\t\n\t    // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n\t    // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n\t    // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n\t    // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\t    var msecs = (options.msecs != null) ? options.msecs : new Date().getTime();\n\t\n\t    // Per 4.2.1.2, use count of uuid's generated during the current clock\n\t    // cycle to simulate higher resolution clock\n\t    var nsecs = (options.nsecs != null) ? options.nsecs : _lastNSecs + 1;\n\t\n\t    // Time since last uuid creation (in msecs)\n\t    var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\t\n\t    // Per 4.2.1.2, Bump clockseq on clock regression\n\t    if (dt < 0 && options.clockseq == null) {\n\t      clockseq = clockseq + 1 & 0x3fff;\n\t    }\n\t\n\t    // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n\t    // time interval\n\t    if ((dt < 0 || msecs > _lastMSecs) && options.nsecs == null) {\n\t      nsecs = 0;\n\t    }\n\t\n\t    // Per 4.2.1.2 Throw error if too many uuids are requested\n\t    if (nsecs >= 10000) {\n\t      throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n\t    }\n\t\n\t    _lastMSecs = msecs;\n\t    _lastNSecs = nsecs;\n\t    _clockseq = clockseq;\n\t\n\t    // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\t    msecs += 12219292800000;\n\t\n\t    // `time_low`\n\t    var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n\t    b[i++] = tl >>> 24 & 0xff;\n\t    b[i++] = tl >>> 16 & 0xff;\n\t    b[i++] = tl >>> 8 & 0xff;\n\t    b[i++] = tl & 0xff;\n\t\n\t    // `time_mid`\n\t    var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n\t    b[i++] = tmh >>> 8 & 0xff;\n\t    b[i++] = tmh & 0xff;\n\t\n\t    // `time_high_and_version`\n\t    b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\t    b[i++] = tmh >>> 16 & 0xff;\n\t\n\t    // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\t    b[i++] = clockseq >>> 8 | 0x80;\n\t\n\t    // `clock_seq_low`\n\t    b[i++] = clockseq & 0xff;\n\t\n\t    // `node`\n\t    var node = options.node || _nodeId;\n\t    for (var n = 0; n < 6; n++) {\n\t      b[i + n] = node[n];\n\t    }\n\t\n\t    return buf ? buf : unparse(b);\n\t  }\n\t\n\t  // **`v4()` - Generate random UUID**\n\t\n\t  // See https://github.com/broofa/node-uuid for API details\n\t  function v4(options, buf, offset) {\n\t    // Deprecated - 'format' argument, as supported in v1.2\n\t    var i = buf && offset || 0;\n\t\n\t    if (typeof(options) === 'string') {\n\t      buf = (options === 'binary') ? new BufferClass(16) : null;\n\t      options = null;\n\t    }\n\t    options = options || {};\n\t\n\t    var rnds = options.random || (options.rng || _rng)();\n\t\n\t    // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\t    rnds[6] = (rnds[6] & 0x0f) | 0x40;\n\t    rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\t\n\t    // Copy bytes to buffer, if provided\n\t    if (buf) {\n\t      for (var ii = 0; ii < 16; ii++) {\n\t        buf[i + ii] = rnds[ii];\n\t      }\n\t    }\n\t\n\t    return buf || unparse(rnds);\n\t  }\n\t\n\t  // Export public API\n\t  var uuid = v4;\n\t  uuid.v1 = v1;\n\t  uuid.v4 = v4;\n\t  uuid.parse = parse;\n\t  uuid.unparse = unparse;\n\t  uuid.BufferClass = BufferClass;\n\t  uuid._rng = _rng;\n\t  uuid._mathRNG = _mathRNG;\n\t  uuid._nodeRNG = _nodeRNG;\n\t  uuid._whatwgRNG = _whatwgRNG;\n\t\n\t  if (('undefined' !== typeof module) && module.exports) {\n\t    // Publish as node.js module\n\t    module.exports = uuid;\n\t  } else if (true) {\n\t    // Publish as AMD module\n\t    !(__WEBPACK_AMD_DEFINE_RESULT__ = function() {return uuid;}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t\n\t\n\t  } else {\n\t    // Publish as global (in browsers)\n\t    _previousRoot = _window.uuid;\n\t\n\t    // **`noConflict()` - (browser only) to reset global 'uuid' var**\n\t    uuid.noConflict = function() {\n\t      _window.uuid = _previousRoot;\n\t      return uuid;\n\t    };\n\t\n\t    _window.uuid = uuid;\n\t  }\n\t})('undefined' !== typeof window ? window : null);\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"crypto\");\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Bot = undefined;\n\texports.createBot = createBot;\n\texports.getBot = getBot;\n\texports.getBots = getBots;\n\t\n\tvar _nodeUuid = __webpack_require__(6);\n\t\n\tvar _nodeUuid2 = _interopRequireDefault(_nodeUuid);\n\t\n\tvar _client = __webpack_require__(2);\n\t\n\tvar _client2 = _interopRequireDefault(_client);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar table = (0, _client.resolveTableName)('bot-v1');\n\t\n\tvar Bot = exports.Bot = function Bot() {\n\t  _classCallCheck(this, Bot);\n\t};\n\t\n\t;\n\t\n\tfunction createBot(data) {\n\t  var bot = new Bot();\n\t  var now = new Date().toISOString();\n\t\n\t  Object.assign(bot, data);\n\t  bot.id = _nodeUuid2.default.v4();\n\t  bot.created = now;\n\t  bot.changed = now;\n\t\n\t  var params = {\n\t    TableName: table,\n\t    Item: bot\n\t  };\n\t  return new Promise(function (resolve, reject) {\n\t    _client2.default.put(params, function (err, data) {\n\t      if (err) return reject(err);\n\t      return resolve(bot);\n\t    });\n\t  });\n\t}\n\t\n\tfunction getBot(teamId, id) {\n\t  return new Promise(function (resolve, reject) {\n\t    var params = {\n\t      TableName: table,\n\t      Key: { teamId: teamId, id: id }\n\t    };\n\t\n\t    _client2.default.get(params, function (err, data) {\n\t      if (err) return reject(err);\n\t      var bot = (0, _client.fromDB)(Bot, data.Item);\n\t      return resolve(bot);\n\t    });\n\t  });\n\t}\n\t\n\tfunction getBots(teamId) {\n\t  return new Promise(function (resolve, reject) {\n\t    var params = {\n\t      TableName: table,\n\t      KeyConditionExpression: 'teamId = :teamId',\n\t      ExpressionAttributeValues: {\n\t        ':teamId': teamId\n\t      }\n\t    };\n\t\n\t    _client2.default.query(params, function (err, data) {\n\t      if (err) return reject(err);\n\t      return resolve(data.Items.map(function (item) {\n\t        return (0, _client.fromDB)(Bot, item);\n\t      }));\n\t    });\n\t  });\n\t}\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Answer = undefined;\n\texports.createAnswer = createAnswer;\n\texports.getAnswer = getAnswer;\n\texports.getAnswers = getAnswers;\n\texports.deleteAnswer = deleteAnswer;\n\texports.updateAnswer = updateAnswer;\n\t\n\tvar _nodeUuid = __webpack_require__(6);\n\t\n\tvar _nodeUuid2 = _interopRequireDefault(_nodeUuid);\n\t\n\tvar _client = __webpack_require__(2);\n\t\n\tvar _client2 = _interopRequireDefault(_client);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar table = (0, _client.resolveTableName)('answer-v1');\n\t\n\tvar Answer = exports.Answer = function Answer() {\n\t  _classCallCheck(this, Answer);\n\t};\n\t\n\t;\n\t\n\tfunction createAnswer(_ref) {\n\t  var botId = _ref.botId;\n\t\n\t  var data = _objectWithoutProperties(_ref, ['botId']);\n\t\n\t  var answer = new Answer();\n\t  Object.assign(answer, data);\n\t  answer.id = _nodeUuid2.default.v4();\n\t  answer.botId = botId;\n\t\n\t  var now = new Date().toISOString();\n\t  answer.created = now;\n\t  answer.changed = now;\n\t\n\t  var params = {\n\t    TableName: table,\n\t    Item: answer\n\t  };\n\t\n\t  return new Promise(function (resolve, reject) {\n\t    _client2.default.put(params, function (err, data) {\n\t      if (err) return reject(err);\n\t      return resolve(answer);\n\t    });\n\t  });\n\t}\n\t\n\tfunction getAnswer(botId, id) {\n\t  var params = {\n\t    TableName: table,\n\t    Key: { id: id, botId: botId }\n\t  };\n\t\n\t  return new Promise(function (resolve, reject) {\n\t    _client2.default.get(params, function (err, data) {\n\t      if (err) return reject(err);\n\t\n\t      var answer = void 0;\n\t      if (data.Item) {\n\t        answer = (0, _client.fromDB)(Answer, data.Item);\n\t      }\n\t\n\t      return resolve(answer);\n\t    });\n\t  });\n\t}\n\t\n\tfunction getAnswers(botId) {\n\t  var params = {\n\t    TableName: table,\n\t    KeyConditionExpression: 'botId = :botId',\n\t    ExpressionAttributeValues: {\n\t      ':botId': botId\n\t    }\n\t  };\n\t\n\t  return new Promise(function (resolve, reject) {\n\t    _client2.default.query(params, function (err, data) {\n\t      if (err) return reject(err);\n\t      return resolve(data.Items.map(function (item) {\n\t        return (0, _client.fromDB)(Answer, item);\n\t      }));\n\t    });\n\t  });\n\t}\n\t\n\tfunction deleteAnswer(botId, id) {\n\t  var params = {\n\t    TableName: table,\n\t    Key: { id: id, botId: botId },\n\t    ReturnValues: 'ALL_OLD'\n\t  };\n\t\n\t  return new Promise(function (resolve, reject) {\n\t    _client2.default.delete(params, function (err, data) {\n\t      if (err) return reject(err);\n\t      return resolve((0, _client.fromDB)(Answer, data.Attributes));\n\t    });\n\t  });\n\t}\n\t\n\tfunction updateAnswer(_ref2) {\n\t  var botId = _ref2.botId;\n\t  var id = _ref2.id;\n\t  var title = _ref2.title;\n\t  var body = _ref2.body;\n\t\n\t  var params = {\n\t    TableName: table,\n\t    Key: { id: id, botId: botId },\n\t    UpdateExpression: '\\n      SET\\n        #title = :title,\\n        #body = :body,\\n        #changed = :changed\\n    ',\n\t    ExpressionAttributeNames: {\n\t      '#title': 'title',\n\t      '#body': 'body',\n\t      '#changed': 'changed'\n\t    },\n\t    ExpressionAttributeValues: {\n\t      ':title': title,\n\t      ':body': body,\n\t      ':changed': new Date().toISOString()\n\t    },\n\t    ReturnValues: 'ALL_NEW'\n\t  };\n\t\n\t  return new Promise(function (resolve, reject) {\n\t    _client2.default.update(params, function (err, data) {\n\t      if (err) return reject(err);\n\t      return resolve((0, _client.fromDB)(Answer, data.Attributes));\n\t    });\n\t  });\n\t}\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.Token = undefined;\n\texports.getToken = getToken;\n\texports.createToken = createToken;\n\texports.deleteToken = deleteToken;\n\t\n\tvar _nodeUuid = __webpack_require__(6);\n\t\n\tvar _nodeUuid2 = _interopRequireDefault(_nodeUuid);\n\t\n\tvar _client = __webpack_require__(2);\n\t\n\tvar _client2 = _interopRequireDefault(_client);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar table = (0, _client.resolveTableName)('token-v1');\n\t\n\tvar Token = exports.Token = function Token() {\n\t  _classCallCheck(this, Token);\n\t};\n\t\n\t;\n\t\n\tfunction getToken(userId, id) {\n\t  var params = {\n\t    TableName: table,\n\t    Key: { id: id, userId: userId }\n\t  };\n\t\n\t  return new Promise(function (resolve, reject) {\n\t    _client2.default.get(params, function (err, data) {\n\t      if (err) return reject(err);\n\t\n\t      var token = void 0;\n\t      if (data.Item) {\n\t        token = (0, _client.fromDB)(Token, data.Item);\n\t      }\n\t\n\t      return resolve(token);\n\t    });\n\t  });\n\t}\n\t\n\tfunction createToken(_ref) {\n\t  var userId = _ref.userId;\n\t\n\t  var data = _objectWithoutProperties(_ref, ['userId']);\n\t\n\t  var token = new Token();\n\t  var now = new Date().toISOString();\n\t  Object.assign(token, data);\n\t  token.id = _nodeUuid2.default.v4();\n\t  token.userId = userId;\n\t  token.active = true;\n\t  token.created = now;\n\t  token.changed = now;\n\t\n\t  var params = {\n\t    TableName: table,\n\t    Item: token\n\t  };\n\t\n\t  return new Promise(function (resolve, reject) {\n\t    _client2.default.put(params, function (err, data) {\n\t      if (err) return reject(err);\n\t      return resolve(token);\n\t    });\n\t  });\n\t}\n\t\n\tfunction deleteToken(id, userId) {\n\t  var params = {\n\t    TableName: table,\n\t    Key: { id: id, userId: userId }\n\t  };\n\t\n\t  return new Promise(function (resolve, reject) {\n\t    _client2.default.delete(params, function (err, data) {\n\t      if (err) return reject(err);\n\t      return resolve();\n\t    });\n\t  });\n\t};\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _storage = __webpack_require__(12);\n\t\n\tObject.defineProperty(exports, 'storage', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_storage).default;\n\t  }\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _team = __webpack_require__(4);\n\t\n\tvar _user = __webpack_require__(5);\n\t\n\tvar _bot = __webpack_require__(8);\n\t\n\tfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\texports.default = {\n\t  teams: {\n\t    get: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(id, cb) {\n\t        var team;\n\t        return regeneratorRuntime.wrap(function _callee$(_context) {\n\t          while (1) {\n\t            switch (_context.prev = _context.next) {\n\t              case 0:\n\t                team = void 0;\n\t                _context.prev = 1;\n\t                _context.next = 4;\n\t                return (0, _team.getTeam)(id);\n\t\n\t              case 4:\n\t                team = _context.sent;\n\t                _context.next = 10;\n\t                break;\n\t\n\t              case 7:\n\t                _context.prev = 7;\n\t                _context.t0 = _context['catch'](1);\n\t                return _context.abrupt('return', cb(_context.t0));\n\t\n\t              case 10:\n\t                return _context.abrupt('return', cb(null, team));\n\t\n\t              case 11:\n\t              case 'end':\n\t                return _context.stop();\n\t            }\n\t          }\n\t        }, _callee, undefined, [[1, 7]]);\n\t      }));\n\t\n\t      return function get(_x, _x2) {\n\t        return ref.apply(this, arguments);\n\t      };\n\t    }(),\n\t\n\t    save: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(_ref, cb) {\n\t        var data = _ref.team;\n\t        var isnew = _ref.isnew;\n\t        var team;\n\t        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n\t          while (1) {\n\t            switch (_context2.prev = _context2.next) {\n\t              case 0:\n\t                team = void 0;\n\t                _context2.prev = 1;\n\t                _context2.next = 4;\n\t                return (0, _team.updateTeam)(data);\n\t\n\t              case 4:\n\t                team = _context2.sent;\n\t                _context2.next = 10;\n\t                break;\n\t\n\t              case 7:\n\t                _context2.prev = 7;\n\t                _context2.t0 = _context2['catch'](1);\n\t                return _context2.abrupt('return', cb(_context2.t0));\n\t\n\t              case 10:\n\t                if (!isnew) {\n\t                  _context2.next = 19;\n\t                  break;\n\t                }\n\t\n\t                _context2.prev = 11;\n\t                _context2.next = 14;\n\t                return (0, _bot.createBot)({ teamId: team.id });\n\t\n\t              case 14:\n\t                _context2.next = 19;\n\t                break;\n\t\n\t              case 16:\n\t                _context2.prev = 16;\n\t                _context2.t1 = _context2['catch'](11);\n\t                return _context2.abrupt('return', cb(_context2.t1));\n\t\n\t              case 19:\n\t                return _context2.abrupt('return', cb(null, team));\n\t\n\t              case 20:\n\t              case 'end':\n\t                return _context2.stop();\n\t            }\n\t          }\n\t        }, _callee2, undefined, [[1, 7], [11, 16]]);\n\t      }));\n\t\n\t      return function save(_x3, _x4) {\n\t        return ref.apply(this, arguments);\n\t      };\n\t    }(),\n\t\n\t    all: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(cb) {\n\t        var teams;\n\t        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n\t          while (1) {\n\t            switch (_context3.prev = _context3.next) {\n\t              case 0:\n\t                teams = void 0;\n\t                _context3.prev = 1;\n\t                _context3.next = 4;\n\t                return (0, _team.getTeams)();\n\t\n\t              case 4:\n\t                teams = _context3.sent;\n\t                _context3.next = 10;\n\t                break;\n\t\n\t              case 7:\n\t                _context3.prev = 7;\n\t                _context3.t0 = _context3['catch'](1);\n\t                return _context3.abrupt('return', cb(_context3.t0));\n\t\n\t              case 10:\n\t                return _context3.abrupt('return', cb(null, teams));\n\t\n\t              case 11:\n\t              case 'end':\n\t                return _context3.stop();\n\t            }\n\t          }\n\t        }, _callee3, undefined, [[1, 7]]);\n\t      }));\n\t\n\t      return function all(_x5) {\n\t        return ref.apply(this, arguments);\n\t      };\n\t    }()\n\t\n\t  },\n\t  users: {\n\t    get: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee4(id, cb) {\n\t        var user;\n\t        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n\t          while (1) {\n\t            switch (_context4.prev = _context4.next) {\n\t              case 0:\n\t                user = void 0;\n\t                _context4.prev = 1;\n\t                _context4.next = 4;\n\t                return (0, _user.getUser)(id);\n\t\n\t              case 4:\n\t                user = _context4.sent;\n\t                _context4.next = 10;\n\t                break;\n\t\n\t              case 7:\n\t                _context4.prev = 7;\n\t                _context4.t0 = _context4['catch'](1);\n\t                return _context4.abrupt('return', cb(_context4.t0));\n\t\n\t              case 10:\n\t                return _context4.abrupt('return', cb(null, user));\n\t\n\t              case 11:\n\t              case 'end':\n\t                return _context4.stop();\n\t            }\n\t          }\n\t        }, _callee4, undefined, [[1, 7]]);\n\t      }));\n\t\n\t      return function get(_x6, _x7) {\n\t        return ref.apply(this, arguments);\n\t      };\n\t    }(),\n\t\n\t    save: function () {\n\t      var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee5(_ref2, cb) {\n\t        var data = _ref2.user;\n\t        var isnew = _ref2.isnew;\n\t        var user;\n\t        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n\t          while (1) {\n\t            switch (_context5.prev = _context5.next) {\n\t              case 0:\n\t                // transform values from slack to camelcase\n\t                if (data.access_token) {\n\t                  data.accessToken = data.access_token;\n\t                  delete data.access_token;\n\t                }\n\t\n\t                if (data.team_id) {\n\t                  data.teamId = data.team_id;\n\t                  delete data.team_id;\n\t                }\n\t\n\t                user = void 0;\n\t                _context5.prev = 3;\n\t                _context5.next = 6;\n\t                return (0, _user.updateUser)(data);\n\t\n\t              case 6:\n\t                user = _context5.sent;\n\t                _context5.next = 12;\n\t                break;\n\t\n\t              case 9:\n\t                _context5.prev = 9;\n\t                _context5.t0 = _context5['catch'](3);\n\t                return _context5.abrupt('return', cb(_context5.t0));\n\t\n\t              case 12:\n\t                return _context5.abrupt('return', cb(null, user));\n\t\n\t              case 13:\n\t              case 'end':\n\t                return _context5.stop();\n\t            }\n\t          }\n\t        }, _callee5, undefined, [[3, 9]]);\n\t      }));\n\t\n\t      return function save(_x8, _x9) {\n\t        return ref.apply(this, arguments);\n\t      };\n\t    }(),\n\t\n\t    // We should never want to return all the users in the system\n\t    all: function all(cb) {\n\t      return cb(new Error('Not implemented'));\n\t    }\n\t  },\n\t  channels: {\n\t    get: function get(_, cb) {\n\t      return cb(new Error('Not implemented'));\n\t    },\n\t    save: function save(_, cb) {\n\t      return cb(new Error('Not implemented'));\n\t    },\n\t    all: function all(cb) {\n\t      return cb(new Error('Not implemented'));\n\t    }\n\t  }\n\t};\n\n/***/ }\n/******/ ])\n});\n;\n//# sourceMappingURL=index.js.map"],"sourceRoot":"/source/"}