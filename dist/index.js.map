{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap ee782ac21e61855a12b5","webpack:///./src/index.js","webpack:///./src/db/index.js","webpack:///./src/db/client.js","webpack:///external \"aws-sdk\"","webpack:///./src/db/team.js","webpack:///./src/db/user.js","webpack:///./~/node-uuid/uuid.js","webpack:///external \"crypto\"","webpack:///./src/db/bot.js","webpack:///./src/db/answer.js"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"aws-sdk\"), (function webpackLoadOptionalExternalModule() { try { return require(\"crypto\"); } catch(e) {} }()));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"aws-sdk\", \"crypto\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"luno\"] = factory(require(\"aws-sdk\"), (function webpackLoadOptionalExternalModule() { try { return require(\"crypto\"); } catch(e) {} }()));\n\telse\n\t\troot[\"luno\"] = factory(root[\"aws-sdk\"], root[\"crypto\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_7__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap ee782ac21e61855a12b5\n **/","export * as db from './db';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","export * as client from './client';\nexport * as team from './team';\nexport * as user from './user';\nexport * as bot from './bot';\nexport * as answer from './answer';\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/db/index.js\n **/","const config = {\n  sessionToken: process.env.AWS_SESSION_TOKEN,\n  region: process.env.AWS_REGION,\n};\n\n/**\n * Return a table name for the model based on env variables.\n *\n * @param {String} model model name\n * @return {String} resolved table name\n */\nexport function resolveTableName(model) {\n  const { env: { STAGE } } = process;\n  return `${STAGE}-${model}`;\n}\n\n/**\n * Return a model type with the values from the db.\n *\n * @param {Type} Model type of model\n * @param {Object} data data to copy to the model\n * @return {Object} returns the inflated model\n */\nexport function fromDB(Model, data) {\n  const model = new Model();\n  return Object.assign({}, model, data);\n}\n\nexport default (() => {\n  const AWS = require('aws-sdk');\n  const DocumentClient = AWS.DynamoDB.DocumentClient;\n  return new DocumentClient(config);\n})();\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/db/client.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"aws-sdk\"\n ** module id = 3\n ** module chunks = 0\n **/","import client, { fromDB, resolveTableName } from './client';\n\nconst table = resolveTableName('team');\n\nexport class Team extends Object {};\n\nexport function createTeam(team) {\n  return new Promise((resolve, reject) => {\n    const params = {\n      TableName: table,\n      Item: team,\n    };\n\n    client.put(params, (err, data) => {\n      if (err) return reject(err);\n      return resolve(team);\n    });\n  });\n}\n\nexport function getTeam(id) {\n  return new Promise((resolve, reject) => {\n    const params = {\n      TableName: table,\n      Key: { id },\n    };\n\n    client.get(params, (err, data) => {\n      if (err) return reject(err);\n      const team = fromDB(Team, data.Item);\n      return resolve(team);\n    });\n  });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/db/team.js\n **/","import uuid from 'node-uuid';\n\nimport client, { fromDB, resolveTableName } from './client';\n\nconst table = resolveTableName('user');\n\nexport class User extends Object {};\n\nexport function createUser(user) {\n  return new Promise((resolve, reject) => {\n    user.id = uuid.v4();\n    const params = {\n      TableName: table,\n      Item: user,\n    };\n\n    client.put(params, (err, data) => {\n      if (err) return reject(err);\n      return resolve(user);\n    });\n  });\n}\n\nexport function getUser(teamId, id) {\n  return new Promise((resolve, reject) => {\n    const params = {\n      TableName: table,\n      Key: { id, teamId },\n    };\n\n    client.get(params, (err, data) => {\n      if (err) return reject(err);\n      const user = fromDB(User, data.Item);\n      return resolve(user);\n    });\n  });\n}\n\nexport function getUsers(teamId) {\n  return new Promise((resolve, reject) => {\n    const params = {\n      TableName: table,\n      KeyConditionExpression: 'HashKey = :hkey',\n      ExpressionAttributeValues: {\n        ':hkey': teamId,\n      },\n    };\n\n    client.query(params, (err, data) => {\n      if (err) return reject(err);\n      return data.Items.map((item) => fromDB(User, item));\n    });\n  });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/db/user.js\n **/","//     uuid.js\n//\n//     Copyright (c) 2010-2012 Robert Kieffer\n//     MIT License - http://opensource.org/licenses/mit-license.php\n\n/*global window, require, define */\n(function(_window) {\n  'use strict';\n\n  // Unique ID creation requires a high quality random # generator.  We feature\n  // detect to determine the best RNG source, normalizing to a function that\n  // returns 128-bits of randomness, since that's what's usually required\n  var _rng, _mathRNG, _nodeRNG, _whatwgRNG, _previousRoot;\n\n  function setupBrowser() {\n    // Allow for MSIE11 msCrypto\n    var _crypto = _window.crypto || _window.msCrypto;\n\n    if (!_rng && _crypto && _crypto.getRandomValues) {\n      // WHATWG crypto-based RNG - http://wiki.whatwg.org/wiki/Crypto\n      //\n      // Moderately fast, high quality\n      try {\n        var _rnds8 = new Uint8Array(16);\n        _whatwgRNG = _rng = function whatwgRNG() {\n          _crypto.getRandomValues(_rnds8);\n          return _rnds8;\n        };\n        _rng();\n      } catch(e) {}\n    }\n\n    if (!_rng) {\n      // Math.random()-based (RNG)\n      //\n      // If all else fails, use Math.random().  It's fast, but is of unspecified\n      // quality.\n      var  _rnds = new Array(16);\n      _mathRNG = _rng = function() {\n        for (var i = 0, r; i < 16; i++) {\n          if ((i & 0x03) === 0) { r = Math.random() * 0x100000000; }\n          _rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n        }\n\n        return _rnds;\n      };\n      if ('undefined' !== typeof console && console.warn) {\n        console.warn(\"[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()\");\n      }\n    }\n  }\n\n  function setupNode() {\n    // Node.js crypto-based RNG - http://nodejs.org/docs/v0.6.2/api/crypto.html\n    //\n    // Moderately fast, high quality\n    if ('function' === typeof require) {\n      try {\n        var _rb = require('crypto').randomBytes;\n        _nodeRNG = _rng = _rb && function() {return _rb(16);};\n        _rng();\n      } catch(e) {}\n    }\n  }\n\n  if (_window) {\n    setupBrowser();\n  } else {\n    setupNode();\n  }\n\n  // Buffer class to use\n  var BufferClass = ('function' === typeof Buffer) ? Buffer : Array;\n\n  // Maps for number <-> hex string conversion\n  var _byteToHex = [];\n  var _hexToByte = {};\n  for (var i = 0; i < 256; i++) {\n    _byteToHex[i] = (i + 0x100).toString(16).substr(1);\n    _hexToByte[_byteToHex[i]] = i;\n  }\n\n  // **`parse()` - Parse a UUID into it's component bytes**\n  function parse(s, buf, offset) {\n    var i = (buf && offset) || 0, ii = 0;\n\n    buf = buf || [];\n    s.toLowerCase().replace(/[0-9a-f]{2}/g, function(oct) {\n      if (ii < 16) { // Don't overflow!\n        buf[i + ii++] = _hexToByte[oct];\n      }\n    });\n\n    // Zero out remaining bytes if string was short\n    while (ii < 16) {\n      buf[i + ii++] = 0;\n    }\n\n    return buf;\n  }\n\n  // **`unparse()` - Convert UUID byte array (ala parse()) into a string**\n  function unparse(buf, offset) {\n    var i = offset || 0, bth = _byteToHex;\n    return  bth[buf[i++]] + bth[buf[i++]] +\n            bth[buf[i++]] + bth[buf[i++]] + '-' +\n            bth[buf[i++]] + bth[buf[i++]] + '-' +\n            bth[buf[i++]] + bth[buf[i++]] + '-' +\n            bth[buf[i++]] + bth[buf[i++]] + '-' +\n            bth[buf[i++]] + bth[buf[i++]] +\n            bth[buf[i++]] + bth[buf[i++]] +\n            bth[buf[i++]] + bth[buf[i++]];\n  }\n\n  // **`v1()` - Generate time-based UUID**\n  //\n  // Inspired by https://github.com/LiosK/UUID.js\n  // and http://docs.python.org/library/uuid.html\n\n  // random #'s we need to init node and clockseq\n  var _seedBytes = _rng();\n\n  // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n  var _nodeId = [\n    _seedBytes[0] | 0x01,\n    _seedBytes[1], _seedBytes[2], _seedBytes[3], _seedBytes[4], _seedBytes[5]\n  ];\n\n  // Per 4.2.2, randomize (14 bit) clockseq\n  var _clockseq = (_seedBytes[6] << 8 | _seedBytes[7]) & 0x3fff;\n\n  // Previous uuid creation time\n  var _lastMSecs = 0, _lastNSecs = 0;\n\n  // See https://github.com/broofa/node-uuid for API details\n  function v1(options, buf, offset) {\n    var i = buf && offset || 0;\n    var b = buf || [];\n\n    options = options || {};\n\n    var clockseq = (options.clockseq != null) ? options.clockseq : _clockseq;\n\n    // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n    // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n    // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n    // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n    var msecs = (options.msecs != null) ? options.msecs : new Date().getTime();\n\n    // Per 4.2.1.2, use count of uuid's generated during the current clock\n    // cycle to simulate higher resolution clock\n    var nsecs = (options.nsecs != null) ? options.nsecs : _lastNSecs + 1;\n\n    // Time since last uuid creation (in msecs)\n    var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n    // Per 4.2.1.2, Bump clockseq on clock regression\n    if (dt < 0 && options.clockseq == null) {\n      clockseq = clockseq + 1 & 0x3fff;\n    }\n\n    // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n    // time interval\n    if ((dt < 0 || msecs > _lastMSecs) && options.nsecs == null) {\n      nsecs = 0;\n    }\n\n    // Per 4.2.1.2 Throw error if too many uuids are requested\n    if (nsecs >= 10000) {\n      throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n    }\n\n    _lastMSecs = msecs;\n    _lastNSecs = nsecs;\n    _clockseq = clockseq;\n\n    // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n    msecs += 12219292800000;\n\n    // `time_low`\n    var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n    b[i++] = tl >>> 24 & 0xff;\n    b[i++] = tl >>> 16 & 0xff;\n    b[i++] = tl >>> 8 & 0xff;\n    b[i++] = tl & 0xff;\n\n    // `time_mid`\n    var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n    b[i++] = tmh >>> 8 & 0xff;\n    b[i++] = tmh & 0xff;\n\n    // `time_high_and_version`\n    b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n    b[i++] = tmh >>> 16 & 0xff;\n\n    // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n    b[i++] = clockseq >>> 8 | 0x80;\n\n    // `clock_seq_low`\n    b[i++] = clockseq & 0xff;\n\n    // `node`\n    var node = options.node || _nodeId;\n    for (var n = 0; n < 6; n++) {\n      b[i + n] = node[n];\n    }\n\n    return buf ? buf : unparse(b);\n  }\n\n  // **`v4()` - Generate random UUID**\n\n  // See https://github.com/broofa/node-uuid for API details\n  function v4(options, buf, offset) {\n    // Deprecated - 'format' argument, as supported in v1.2\n    var i = buf && offset || 0;\n\n    if (typeof(options) === 'string') {\n      buf = (options === 'binary') ? new BufferClass(16) : null;\n      options = null;\n    }\n    options = options || {};\n\n    var rnds = options.random || (options.rng || _rng)();\n\n    // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n    rnds[6] = (rnds[6] & 0x0f) | 0x40;\n    rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n    // Copy bytes to buffer, if provided\n    if (buf) {\n      for (var ii = 0; ii < 16; ii++) {\n        buf[i + ii] = rnds[ii];\n      }\n    }\n\n    return buf || unparse(rnds);\n  }\n\n  // Export public API\n  var uuid = v4;\n  uuid.v1 = v1;\n  uuid.v4 = v4;\n  uuid.parse = parse;\n  uuid.unparse = unparse;\n  uuid.BufferClass = BufferClass;\n  uuid._rng = _rng;\n  uuid._mathRNG = _mathRNG;\n  uuid._nodeRNG = _nodeRNG;\n  uuid._whatwgRNG = _whatwgRNG;\n\n  if (('undefined' !== typeof module) && module.exports) {\n    // Publish as node.js module\n    module.exports = uuid;\n  } else if (typeof define === 'function' && define.amd) {\n    // Publish as AMD module\n    define(function() {return uuid;});\n\n\n  } else {\n    // Publish as global (in browsers)\n    _previousRoot = _window.uuid;\n\n    // **`noConflict()` - (browser only) to reset global 'uuid' var**\n    uuid.noConflict = function() {\n      _window.uuid = _previousRoot;\n      return uuid;\n    };\n\n    _window.uuid = uuid;\n  }\n})('undefined' !== typeof window ? window : null);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/node-uuid/uuid.js\n ** module id = 6\n ** module chunks = 0\n **/","module.exports = require(\"crypto\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"crypto\"\n ** module id = 7\n ** module chunks = 0\n **/","export uuid from 'node-uuid';\n\nimport client, { fromDB, resolveTableName } from './client';\n\nexport class Bot extends Object {};\n\nexport function createBot(bot) {\n  return new Promise((resolve, reject) => {\n    bot.id = uuid.v4();\n    const params = {\n      TableName: table,\n      Item: bot,\n    };\n\n    client.put(params, (err, data) => {\n      if (err) return reject(err);\n      return resolve(bot);\n    });\n  });\n}\n\nexport function getBot(teamId, id) {\n  return new Promise((resolve, reject) => {\n    const params = {\n      TableName: table,\n      Key: { teamId, id },\n    };\n\n    client.get(params, (err, data) => {\n      if (err) return reject(err);\n      const bot = fromDB(Bot, data.Item);\n      return resolve(bot);\n    });\n  });\n}\n\nexport function getBots(teamId) {\n  return new Promise((resolve, reject) => {\n    const params = {\n      TableName: table,\n      KeyConditionExpression: 'HashKey = :hkey',\n      ExpressionAttributeValues: {\n        ':hkey': teamId,\n      },\n    };\n\n    client.query(params, (err, data) => {\n      if (err) return reject(err);\n      return data.Items.map((item) => fromDB(Bot, item));\n    });\n  });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/db/bot.js\n **/","import uuid from 'node-uuid';\n\nimport client, { fromDB, resolveTableName } from './client';\n\nconst table = resolveTableName('answer');\n\nexport class Answer extends Object {};\n\nfunction getCompositeId(teamId, botId) {\n  return `${teamId}=${botId}`;\n}\n\nexport function createAnswer(answer) {\n  return new Promise((resolve, reject) => {\n    answer.id = uuid.v4();\n    const params = {\n      TableName: table,\n      Item: user,\n    };\n\n    client.put(params, (err, data) => {\n      if (err) return reject(err);\n      return resovle(answer);\n    });\n  });\n}\n\nexport function getAnswer(teamId, botId, id) {\n  const compositeId = getCompositeId(teamId, botId);\n  return new Promise((resolve, reject) => {\n    const params = {\n      TableName: table,\n      Key: { id, compositeId },\n    };\n\n    client.get(params, (err, data) => {\n      if (err) return reject(err);\n      const answer = fromDB(Answer, data.Item);\n      return resolve(answer);\n    });\n  });\n}\n\nexport function getAnswers(teamId, botId) {\n  const compositeId = getCompositeId(teamId, botId);\n  return new Promise((resolve, reject) => {\n    const params = {\n      TableName: table,\n      KeyConditionExpression: 'HashKey = :hkey',\n      ExpressionAttributeValues: {\n        ':hkey': compositeId,\n      },\n    };\n\n    client.query(params, (err, data) => {\n      if (err) return reject(err);\n      return data.Items.map((item) => fromDB(Answer, item));\n    });\n  });\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/db/answer.js\n **/"],"sourceRoot":""}